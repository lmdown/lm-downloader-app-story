import{_ as a}from"./_plugin-vue_export-helper.js";import{b as e,m as t}from"./vuetify.js";import{a1 as l,_ as s,k as n,Q as o,a3 as i,e as p,b as r,H as m,l as u,c,a0 as d,F as v,a2 as _,u as g,a7 as y,V as f,Z as x,$ as C,a4 as h,j as w}from"./vue.js";import{_ as V}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{C as j,_ as D}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{d as b,u as k}from"./index.js";import"./top-right-controls.vue_vue_type_style_index_0_lang.js";import"./vuei18n.js";import"./common-util.js";import"./single-app-item.vue_vue_type_style_index_0_lang.js";import"./app-info.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./lmd-locales.js";const E={class:"all-cats-list-container-error",style:{"padding-bottom":"180px"}};const U=a({},[["render",function(a,t){return s(),l("div",E,[n(e,{class:"mx-auto mt-10 mb-4",width:"auto",height:"280",src:"./images/app/data-error.svg"}),o(" "+i(a.$t("UniversalApps.DataError")),1)])}]]),$={class:"cat-nav-container ga-2"},A={style:{width:"auto"},class:"d-flex flex-row ga-2"},N=["onClick"],S={class:"cat-name"},B={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},H=["onClick"],J=p({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=r(4),n=e,p=a;m((()=>{})),u((()=>p.navCatsData),(async()=>{}));const f=c((()=>JSON.parse(JSON.stringify(p.navCatsData)).splice(0,t.value))),x=c((()=>JSON.parse(JSON.stringify(p.navCatsData)).splice(t.value))),C=a=>j.getLocaleName(a),h=a=>p.modelValue===a?"active":"",w=a=>{n("update:modelValue",a),console.log("toggle",a)},V=a=>`icon-${a}`;return(a,e)=>(s(),l("div",$,[d("div",A,[(s(!0),l(v,null,_(g(f),((a,e)=>(s(),l("div",{key:e+C(a),class:y(["nav-item","nav-item-large",h(e)]),onClick:a=>w(e)},[d("span",{class:y(["iconfont",V(a.alias)])},null,2),d("div",S,i(C(a)),1)],10,N)))),128))]),d("div",B,[(s(!0),l(v,null,_(g(x),((a,e)=>(s(),l("div",{key:e+C(a),class:y(["nav-item","nav-item-small",h(g(t)+e)]),onClick:a=>w(g(t)+e)},[d("span",{class:y(["iconfont",V(a.alias)])},null,2),o(i(C(a)),1)],10,H)))),128))])]))}}),O={class:"all-cats-list-container"},L=p({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,n=e,o=r(0);u((()=>t.modelValue),(()=>{t.modelValue!=o.value&&i(t.modelValue)}));const i=a=>{const e=document.getElementById("appcat-"+a),t=e?.getBoundingClientRect();t&&window.scroll({top:t.top+window.scrollY-198,behavior:"smooth"})},p=b((()=>{t.navCatsData.forEach(((a,e)=>{const t=document.getElementById(`appcat-${e}`);if(t){const a=t.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(o.value=e,n("update:modelValue",e))}}))}),200);return m((()=>{window.addEventListener("scroll",p)})),f((()=>{window.removeEventListener("scroll",p)})),(a,e)=>(s(),l("div",O,[(s(!0),l(v,null,_(a.navCatsData,((a,e)=>(s(),x(D,{key:e,id:"appcat-"+e,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),I=p({__name:"UniversalAppHome",setup(a){const e=r(0),o=k();return m((async()=>{o.getAllCats()})),(a,i)=>{const p=U;return s(),l(v,null,[n(V,{"main-title":a.$t("UniversalApps.MainTitle"),"sub-title":a.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),n(t,{class:"universal-app-home mt-0 px-2 py-4"},{default:C((()=>[g(o).allCatsData&&g(o).allCatsData.length>0?(s(),l(v,{key:0},[n(J,{class:"mx-6",modelValue:g(e),"onUpdate:modelValue":i[0]||(i[0]=a=>w(e)?e.value=a:null),"nav-cats-data":g(o).allCatsData},null,8,["modelValue","nav-cats-data"]),g(o).allCatsData&&g(o).allCatsData.length>0?(s(),x(L,{key:0,class:"mx-6",modelValue:g(e),"onUpdate:modelValue":i[1]||(i[1]=a=>w(e)?e.value=a:null),"nav-cats-data":g(o).allCatsData},null,8,["modelValue","nav-cats-data"])):h("",!0)],64)):(s(),x(p,{key:1,class:"mx-6"}))])),_:1})],64)}}});export{I as default};
