import{_ as a}from"./_plugin-vue_export-helper.js";import{b as e,m as t,n as l,o as s}from"./vuetify.js";import{a1 as n,_ as o,k as i,Q as r,a3 as p,e as m,b as u,H as c,l as d,c as v,a0 as _,F as g,a2 as y,u as f,a7 as h,V as x,Z as C,$ as w,a4 as V,j}from"./vue.js";import{_ as D}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{u as k}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{C as b,_ as E}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{d as U,u as $}from"./index.js";import"./vuei18n.js";import"./common-util.js";import"./pinia.js";import"./single-app-item.vue_vue_type_style_index_0_lang.js";import"./app-info.js";import"./xterm.js";import"./debounce.js";import"./lmd-locales.js";const A={class:"all-cats-list-container-error",style:{"padding-bottom":"180px"}};const N=a({},[["render",function(a,t){return o(),n("div",A,[i(e,{class:"mx-auto mt-10 mb-4",width:"auto",height:"280",src:"./images/app/data-error.svg"}),r(" "+p(a.$t("UniversalApps.DataError")),1)])}]]),S={class:"cat-nav-container ga-2"},B={style:{width:"auto"},class:"d-flex flex-row ga-2"},H=["onClick"],I={class:"cat-name"},J={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},L=["onClick"],O=m({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=u(4),l=k(),s=e,i=a;c((()=>{})),d((()=>i.navCatsData),(async()=>{}));const m=v((()=>JSON.parse(JSON.stringify(i.navCatsData)).splice(0,t.value))),x=v((()=>JSON.parse(JSON.stringify(i.navCatsData)).splice(t.value))),C=a=>b.getLocaleName(a,l.currentLocale),w=a=>i.modelValue===a?"active":"",V=a=>{s("update:modelValue",a),console.log("toggle",a)},j=a=>`icon-${a}`;return(a,e)=>(o(),n("div",S,[_("div",B,[(o(!0),n(g,null,y(f(m),((a,e)=>(o(),n("div",{key:e+C(a),class:h(["nav-item","nav-item-large",w(e)]),onClick:a=>V(e)},[_("span",{class:h(["iconfont",j(a.alias)])},null,2),_("div",I,p(C(a)),1)],10,H)))),128))]),_("div",J,[(o(!0),n(g,null,y(f(x),((a,e)=>(o(),n("div",{key:e+C(a),class:h(["nav-item","nav-item-small",w(f(t)+e)]),onClick:a=>V(f(t)+e)},[_("span",{class:h(["iconfont",j(a.alias)])},null,2),r(p(C(a)),1)],10,L)))),128))])]))}}),P={class:"all-cats-list-container"},R=m({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,l=e,s=u(0);d((()=>t.modelValue),(()=>{t.modelValue!=s.value&&i(t.modelValue)}));const i=a=>{const e=document.getElementById("appcat-"+a),t=e?.getBoundingClientRect();t&&window.scroll({top:t.top+window.scrollY-198,behavior:"smooth"})},r=U((()=>{t.navCatsData.forEach(((a,e)=>{const t=document.getElementById(`appcat-${e}`);if(t){const a=t.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(s.value=e,l("update:modelValue",e))}}))}),200);return c((()=>{window.addEventListener("scroll",r)})),x((()=>{window.removeEventListener("scroll",r)})),(a,e)=>(o(),n("div",P,[(o(!0),n(g,null,y(a.navCatsData,((a,e)=>(o(),C(E,{key:e,id:"appcat-"+e,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),T=m({__name:"UniversalAppHome",setup(a){const e=u(0),r=$();return c((async()=>{r.getAllCats()})),(a,p)=>{const m=N;return o(),n(g,null,[i(D,{"main-title":a.$t("UniversalApps.MainTitle"),"sub-title":a.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),i(s,{class:"universal-app-home mt-0 px-2 py-4"},{default:w((()=>[f(r).allCatsData&&f(r).allCatsData.length>0?(o(),n(g,{key:0},[i(O,{class:"mx-6",modelValue:f(e),"onUpdate:modelValue":p[0]||(p[0]=a=>j(e)?e.value=a:null),"nav-cats-data":f(r).allCatsData},null,8,["modelValue","nav-cats-data"]),f(r).allCatsData&&f(r).allCatsData.length>0?(o(),C(R,{key:0,class:"mx-6",modelValue:f(e),"onUpdate:modelValue":p[1]||(p[1]=a=>j(e)?e.value=a:null),"nav-cats-data":f(r).allCatsData},null,8,["modelValue","nav-cats-data"])):V("",!0)],64)):(o(),n(g,{key:1},[f(r).loadInProgress?(o(),C(l,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:w((()=>[i(t,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):V("",!0),f(r).loadInProgress?V("",!0):(o(),C(m,{key:1,class:"mx-6"}))],64))])),_:1})],64)}}});export{T as default};
