import{_ as a,d as e,u as t}from"./index.js";import{a3 as l,a0 as s,k as n,S as o,K as i,e as r,b as m,H as p,l as d,a as u,a2 as c,F as v,a4 as g,u as _,a8 as y,X as f,$ as h,a1 as x,a5 as C,j as w}from"./vue.js";import{b as V,l as j,m as D,n as k}from"./vuetify.js";import{_ as b}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{u as E}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{C as S,_ as U}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";import"./lmd-system.js";import"./single-app-item.vue_vue_type_style_index_0_lang.js";import"./app-info.js";const $={class:"all-cats-list-container-error",style:{"padding-bottom":"180px"}};const A=a({},[["render",function(a,e){return s(),l("div",$,[n(V,{class:"mx-auto mt-10 mb-4",width:"auto",height:"280",src:"./images/app/data-error.svg"}),o(" "+i(a.$t("UniversalApps.DataError")),1)])}]]),N={class:"cat-nav-container ga-2"},B={style:{width:"auto"},class:"d-flex flex-row ga-2"},H=["onClick"],I={class:"cat-name"},J={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},L=["onClick"],O=r({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=m(4),n=E(),r=e,f=a;p((()=>{})),d((()=>f.navCatsData),(async()=>{}));const h=u((()=>JSON.parse(JSON.stringify(f.navCatsData)).splice(0,t.value))),x=u((()=>JSON.parse(JSON.stringify(f.navCatsData)).splice(t.value))),C=a=>S.getLocaleName(a,n.currentLocale),w=a=>f.modelValue===a?"active":"",V=a=>{r("update:modelValue",a),console.log("toggle",a)},j=a=>`icon-${a}`;return(a,e)=>(s(),l("div",N,[c("div",B,[(s(!0),l(v,null,g(_(h),((a,e)=>(s(),l("div",{key:e+C(a),class:y(["nav-item","nav-item-large",w(e)]),onClick:a=>V(e)},[c("span",{class:y(["iconfont",j(a.alias)])},null,2),c("div",I,i(C(a)),1)],10,H)))),128))]),c("div",J,[(s(!0),l(v,null,g(_(x),((a,e)=>(s(),l("div",{key:e+C(a),class:y(["nav-item","nav-item-small",w(_(t)+e)]),onClick:a=>V(_(t)+e)},[c("span",{class:y(["iconfont",j(a.alias)])},null,2),o(i(C(a)),1)],10,L)))),128))])]))}}),P={class:"all-cats-list-container"},R=r({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:t}){const n=a,o=t,i=m(0);d((()=>n.modelValue),(()=>{n.modelValue!=i.value&&r(n.modelValue)}));const r=a=>{const e=document.getElementById("appcat-"+a),t=e?.getBoundingClientRect();t&&window.scroll({top:t.top+window.scrollY-198,behavior:"smooth"})},u=e((()=>{n.navCatsData.forEach(((a,e)=>{const t=document.getElementById(`appcat-${e}`);if(t){const a=t.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(i.value=e,o("update:modelValue",e))}}))}),200);return p((()=>{window.addEventListener("scroll",u)})),f((()=>{window.removeEventListener("scroll",u)})),(a,e)=>(s(),l("div",P,[(s(!0),l(v,null,g(a.navCatsData,((a,e)=>(s(),h(U,{key:e,id:"appcat-"+e,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),T=r({__name:"UniversalAppHome",setup(a){const e=m(0),o=t();return p((async()=>{o.getAllCats()})),(a,t)=>{const i=A;return s(),l(v,null,[n(b,{"main-title":a.$t("UniversalApps.MainTitle"),"sub-title":a.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),n(k,{class:"universal-app-home mt-0 px-2 py-4"},{default:x((()=>[_(o).allCatsData&&_(o).allCatsData.length>0?(s(),l(v,{key:0},[n(O,{class:"mx-6",modelValue:_(e),"onUpdate:modelValue":t[0]||(t[0]=a=>w(e)?e.value=a:null),"nav-cats-data":_(o).allCatsData},null,8,["modelValue","nav-cats-data"]),_(o).allCatsData&&_(o).allCatsData.length>0?(s(),h(R,{key:0,class:"mx-6",modelValue:_(e),"onUpdate:modelValue":t[1]||(t[1]=a=>w(e)?e.value=a:null),"nav-cats-data":_(o).allCatsData},null,8,["modelValue","nav-cats-data"])):C("",!0)],64)):(s(),l(v,{key:1},[_(o).loadInProgress?(s(),h(D,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:x((()=>[n(j,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):C("",!0),_(o).loadInProgress?C("",!0):(s(),h(i,{key:1,class:"mx-6"}))],64))])),_:1})],64)}}});export{T as default};
