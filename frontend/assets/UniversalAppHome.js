import{C as a,_ as e,g as t}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{_ as l}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{e as s,b as n,G as o,o as i,c as p,a6 as m,a5 as u,F as c,a7 as r,u as d,a3 as v,aa as _,V as g,Q as f,R as y,a2 as j,j as w,a4 as x,k as V}from"./vue.js";import{d as C}from"./index2.js";import{n as h}from"./vuetify.js";import"./index.js";import"./pinia.js";import"./vuei18n.js";import"./lmd-locales.js";import"./app-info.js";import"./lmd-system.js";import"./AppRunningUtil.js";import"./AppScriptType.js";import"./top-right-controls.vue_vue_type_style_index_0_lang.js";import"./common-util.js";import"./xterm.js";import"./debounce.js";const b={class:"cat-nav-container ga-2"},k={style:{width:"auto"},class:"d-flex flex-row ga-2"},D=["onClick"],S={class:"cat-name"},U={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},A=["onClick"],E=s({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(e,{emit:t}){const l=n(4),s=t,y=e;o((()=>{})),i((()=>y.navCatsData),(async()=>{}));const j=p((()=>JSON.parse(JSON.stringify(y.navCatsData)).splice(0,l.value))),w=p((()=>JSON.parse(JSON.stringify(y.navCatsData)).splice(l.value))),x=e=>a.getLocaleName(e),V=a=>y.modelValue===a?"active":"",C=a=>{s("update:modelValue",a),console.log("toggle",a)},h=a=>`icon-${a}`;return(a,e)=>(v(),m("div",b,[u("div",k,[(v(!0),m(c,null,r(d(j),((a,e)=>(v(),m("div",{key:e+x(a),class:_(["nav-item","nav-item-large",V(e)]),onClick:a=>C(e)},[u("span",{class:_(["iconfont",h(a.alias)])},null,2),u("div",S,g(x(a)),1)],10,D)))),128))]),u("div",U,[(v(!0),m(c,null,r(d(w),((a,e)=>(v(),m("div",{key:e+x(a),class:_(["nav-item","nav-item-small",V(d(l)+e)]),onClick:a=>C(d(l)+e)},[u("span",{class:_(["iconfont",h(a.alias)])},null,2),f(g(x(a)),1)],10,A)))),128))])]))}}),N={class:"all-cats-list-container"},B=s({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:t}){const l=a,s=t,p=n(0);i((()=>l.modelValue),(()=>{l.modelValue!=p.value&&u(l.modelValue)}));const u=a=>{const e=document.getElementById("appcat-"+a),t=e?.getBoundingClientRect();t&&window.scroll({top:t.top+window.scrollY-198,behavior:"smooth"})},d=C((()=>{l.navCatsData.forEach(((a,e)=>{const t=document.getElementById(`appcat-${e}`);if(t){const a=t.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(p.value=e,s("update:modelValue",e))}}))}),200);return o((()=>{window.addEventListener("scroll",d)})),y((()=>{window.removeEventListener("scroll",d)})),(a,t)=>(v(),m("div",N,[(v(!0),m(c,null,r(a.navCatsData,((a,t)=>(v(),j(e,{key:t,id:"appcat-"+t,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),J=s({__name:"UniversalAppHome",setup(a){const e=n(0),s=n([]);return o((async()=>{s.value=await t()})),(a,t)=>(v(),m(c,null,[w(l,{"main-title":a.$t("UniversalApps.MainTitle"),"sub-title":a.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),w(h,{class:"universal-app-home mt-0 px-2 py-4"},{default:x((()=>[w(E,{class:"mx-6",modelValue:d(e),"onUpdate:modelValue":t[0]||(t[0]=a=>V(e)?e.value=a:null),"nav-cats-data":d(s)},null,8,["modelValue","nav-cats-data"]),w(B,{class:"mx-6",modelValue:d(e),"onUpdate:modelValue":t[1]||(t[1]=a=>V(e)?e.value=a:null),"nav-cats-data":d(s)},null,8,["modelValue","nav-cats-data"])])),_:1})],64))}});export{J as default};
