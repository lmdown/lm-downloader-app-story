import{_ as a,d as t,u as e}from"./index.js";import{b as l,l as s}from"./vuetify.js";import{a1 as n,_ as o,j as i,Q as p,a3 as r,e as m,b as u,G as c,o as d,c as v,a0 as _,F as g,a2 as y,u as f,a7 as C,V as x,Z as h,$ as w,a4 as V,k as j}from"./vue.js";import{_ as D}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{C as b,_ as k}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";import"./top-right-controls.vue_vue_type_style_index_0_lang.js";import"./common-util.js";import"./single-app-item.vue_vue_type_style_index_0_lang.js";import"./app-info.js";const E={class:"all-cats-list-container-error",style:{"padding-bottom":"180px"}};const U=a({},[["render",function(a,t){return o(),n("div",E,[i(l,{class:"mx-auto mt-10 mb-4",width:"auto",height:"280",src:"./images/app/data-error.svg"}),p(" "+r(a.$t("UniversalApps.DataError")),1)])}]]),$={class:"cat-nav-container ga-2"},A={style:{width:"auto"},class:"d-flex flex-row ga-2"},N=["onClick"],S={class:"cat-name"},B={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},J=["onClick"],O=m({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:t}){const e=u(4),l=t,s=a;c((()=>{})),d((()=>s.navCatsData),(async()=>{}));const i=v((()=>JSON.parse(JSON.stringify(s.navCatsData)).splice(0,e.value))),m=v((()=>JSON.parse(JSON.stringify(s.navCatsData)).splice(e.value))),x=a=>b.getLocaleName(a),h=a=>s.modelValue===a?"active":"",w=a=>{l("update:modelValue",a),console.log("toggle",a)},V=a=>`icon-${a}`;return(a,t)=>(o(),n("div",$,[_("div",A,[(o(!0),n(g,null,y(f(i),((a,t)=>(o(),n("div",{key:t+x(a),class:C(["nav-item","nav-item-large",h(t)]),onClick:a=>w(t)},[_("span",{class:C(["iconfont",V(a.alias)])},null,2),_("div",S,r(x(a)),1)],10,N)))),128))]),_("div",B,[(o(!0),n(g,null,y(f(m),((a,t)=>(o(),n("div",{key:t+x(a),class:C(["nav-item","nav-item-small",h(f(e)+t)]),onClick:a=>w(f(e)+t)},[_("span",{class:C(["iconfont",V(a.alias)])},null,2),p(r(x(a)),1)],10,J)))),128))])]))}}),H={class:"all-cats-list-container"},L=m({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const l=a,s=e,i=u(0);d((()=>l.modelValue),(()=>{l.modelValue!=i.value&&p(l.modelValue)}));const p=a=>{const t=document.getElementById("appcat-"+a),e=t?.getBoundingClientRect();e&&window.scroll({top:e.top+window.scrollY-198,behavior:"smooth"})},r=t((()=>{l.navCatsData.forEach(((a,t)=>{const e=document.getElementById(`appcat-${t}`);if(e){const a=e.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(i.value=t,s("update:modelValue",t))}}))}),200);return c((()=>{window.addEventListener("scroll",r)})),x((()=>{window.removeEventListener("scroll",r)})),(a,t)=>(o(),n("div",H,[(o(!0),n(g,null,y(a.navCatsData,((a,t)=>(o(),h(k,{key:t,id:"appcat-"+t,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),I=m({__name:"UniversalAppHome",setup(a){const t=u(0),l=e();return c((async()=>{l.getAllCats()})),(a,e)=>{const p=U;return o(),n(g,null,[i(D,{"main-title":a.$t("UniversalApps.MainTitle"),"sub-title":a.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),i(s,{class:"universal-app-home mt-0 px-2 py-4"},{default:w((()=>[f(l).allCatsData&&f(l).allCatsData.length>0?(o(),n(g,{key:0},[i(O,{class:"mx-6",modelValue:f(t),"onUpdate:modelValue":e[0]||(e[0]=a=>j(t)?t.value=a:null),"nav-cats-data":f(l).allCatsData},null,8,["modelValue","nav-cats-data"]),f(l).allCatsData&&f(l).allCatsData.length>0?(o(),h(L,{key:0,class:"mx-6",modelValue:f(t),"onUpdate:modelValue":e[1]||(e[1]=a=>j(t)?t.value=a:null),"nav-cats-data":f(l).allCatsData},null,8,["modelValue","nav-cats-data"])):V("",!0)],64)):(o(),h(p,{key:1,class:"mx-6"}))])),_:1})],64)}}});export{I as default};
