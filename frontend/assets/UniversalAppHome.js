import{_ as a}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{C as e,_ as t}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{e as l,b as s,G as n,o,c as i,a1 as p,a0 as m,F as u,a2 as c,u as r,_ as d,a7 as v,a3 as _,Q as g,V as y,Z as f,j as C,$ as j,a4 as w,k as x}from"./vue.js";import{d as V,u as h}from"./index.js";import{l as D}from"./vuetify.js";import"./top-right-controls.vue_vue_type_style_index_0_lang.js";import"./vuei18n.js";import"./common-util.js";import"./single-app-item.vue_vue_type_style_index_0_lang.js";import"./app-info.js";import"./lmd-system.js";import"./AppRunningUtil.js";import"./AppScriptType.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./lmd-locales.js";const k={class:"cat-nav-container ga-2"},b={style:{width:"auto"},class:"d-flex flex-row ga-2"},A=["onClick"],S={class:"cat-name"},U={class:"d-flex flex-row flex-1 flex-wrap ga-2",style:{overflow:"hidden",height:"88px"}},E=["onClick"],N=l({__name:"all-catetories-nav",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:t}){const l=s(4),y=t,f=a;n((()=>{})),o((()=>f.navCatsData),(async()=>{}));const C=i((()=>JSON.parse(JSON.stringify(f.navCatsData)).splice(0,l.value))),j=i((()=>JSON.parse(JSON.stringify(f.navCatsData)).splice(l.value))),w=a=>e.getLocaleName(a),x=a=>f.modelValue===a?"active":"",V=a=>{y("update:modelValue",a),console.log("toggle",a)},h=a=>`icon-${a}`;return(a,e)=>(d(),p("div",k,[m("div",b,[(d(!0),p(u,null,c(r(C),((a,e)=>(d(),p("div",{key:e+w(a),class:v(["nav-item","nav-item-large",x(e)]),onClick:a=>V(e)},[m("span",{class:v(["iconfont",h(a.alias)])},null,2),m("div",S,_(w(a)),1)],10,A)))),128))]),m("div",U,[(d(!0),p(u,null,c(r(j),((a,e)=>(d(),p("div",{key:e+w(a),class:v(["nav-item","nav-item-small",x(r(l)+e)]),onClick:a=>V(r(l)+e)},[m("span",{class:v(["iconfont",h(a.alias)])},null,2),g(_(w(a)),1)],10,E)))),128))])]))}}),$={class:"all-cats-list-container"},B=l({__name:"app-list-for-home",props:{modelValue:{},navCatsData:{}},emits:["update:modelValue"],setup(a,{emit:e}){const l=a,i=e,m=s(0);o((()=>l.modelValue),(()=>{l.modelValue!=m.value&&r(l.modelValue)}));const r=a=>{const e=document.getElementById("appcat-"+a),t=e?.getBoundingClientRect();t&&window.scroll({top:t.top+window.scrollY-198,behavior:"smooth"})},v=V((()=>{l.navCatsData.forEach(((a,e)=>{const t=document.getElementById(`appcat-${e}`);if(t){const a=t.getBoundingClientRect();a.top<=window.innerHeight/2&&a.bottom>=window.innerHeight/2&&(m.value=e,i("update:modelValue",e))}}))}),200);return n((()=>{window.addEventListener("scroll",v)})),y((()=>{window.removeEventListener("scroll",v)})),(a,e)=>(d(),p("div",$,[(d(!0),p(u,null,c(a.navCatsData,((a,e)=>(d(),f(t,{key:e,id:"appcat-"+e,"is-app-list-homepage":!0,catetory:a},null,8,["id","catetory"])))),128))]))}}),J=l({__name:"UniversalAppHome",setup(e){const t=s(0),l=h();return n((async()=>{l.getAllCats()})),(e,s)=>(d(),p(u,null,[C(a,{"main-title":e.$t("UniversalApps.MainTitle"),"sub-title":e.$t("UniversalApps.SubTitle")},null,8,["main-title","sub-title"]),C(D,{class:"universal-app-home mt-0 px-2 py-4"},{default:j((()=>[r(l).allCatsData&&r(l).allCatsData.length>0?(d(),f(N,{key:0,class:"mx-6",modelValue:r(t),"onUpdate:modelValue":s[0]||(s[0]=a=>x(t)?t.value=a:null),"nav-cats-data":r(l).allCatsData},null,8,["modelValue","nav-cats-data"])):w("",!0),r(l).allCatsData&&r(l).allCatsData.length>0?(d(),f(B,{key:1,class:"mx-6",modelValue:r(t),"onUpdate:modelValue":s[1]||(s[1]=a=>x(t)?t.value=a:null),"nav-cats-data":r(l).allCatsData},null,8,["modelValue","nav-cats-data"])):w("",!0)])),_:1})],64))}});export{J as default};
