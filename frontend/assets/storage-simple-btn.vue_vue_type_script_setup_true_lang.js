import{Z as S,$ as V,a0 as C,a1 as N,d as k,a2 as w,K as U,r as $,o as g,n as R,b as s,w as n,c as m,U as D,g as v,t as p,m as f,i as y,O as F,a as c,I as T,z as A,R as b,G as B,F as L,a3 as _}from"./index.js";import{d as E}from"./install-instance.js";class z{static openAppRunningWindow(e,a){let l=C.AppRunning.replace(":id",e);l=S(l,{script:a}),window.ipcRenderer?.invoke(V.OPEN_RUNNING_WINDOW,e,l)}}class W{static getLocaleStr(){const e=N.getCurrentLocale();return{en:"en-US",zhHans:"zh-CN"}[e]||"en-US"}static format(e){if(e===void 0)return"";let a;return typeof e=="string"?a=new Date(e):a=e,a.toLocaleString("en-US")}}const j=k({__name:"storage-simple-btn",props:{installedInstance:{}},emits:["deleted"],setup(d,{emit:e}){const a=w("showToastMessage"),{t:u}=U(),l=d,h=e,o=$(!1),I=async()=>{try{await E(l.installedInstance.id),a&&a(u("StorageDialog.DeleteFinished"),"success"),h("deleted"),o.value=!1}catch(t){const r=t;let i="Error";i=r.response?.data?.error,a&&i&&a(u(`Api.${i}`),"error")}},P=()=>{l.installedInstance.appInstallPath?_(l.installedInstance.appInstallPath):o.value=!0};return(t,r)=>(g(),R(L,null,[s(f,{variant:"flat",color:"amber-lighten-5",onClick:P},{prepend:n(()=>[l.installedInstance.appInstallPath?(g(),m(D,{key:1,icon:"mdi-folder-outline"})):(g(),m(D,{key:0,color:"error",icon:"mdi-folder-alert-outline"}))]),default:n(()=>[v(" "+p(t.$t("StorageDialog.installDir")),1)]),_:1}),s(B,{modelValue:A(o),"onUpdate:modelValue":r[1]||(r[1]=i=>b(o)?o.value=i:null),"max-width":"400"},{default:n(()=>[s(y,{"prepend-icon":"mdi-folder-alert-outline",title:t.$t("StorageDialog.MissingFiles")},{actions:n(()=>[s(F),s(f,{onClick:r[0]||(r[0]=i=>o.value=!1)},{default:n(()=>[c("p",null,p(t.$t("StorageDialog.Cancel")),1)]),_:1}),s(f,{color:"error",onClick:I},{default:n(()=>[c("p",null,p(t.$t("StorageDialog.Delete")),1)]),_:1})]),default:n(()=>[s(T,null,{default:n(()=>[c("p",null,p(t.$t("StorageDialog.FilesErrorTip")),1),c("p",null,p(t.$t("StorageDialog.FilesDeleteTip")),1)]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])],64))}});export{z as A,W as D,j as _};
