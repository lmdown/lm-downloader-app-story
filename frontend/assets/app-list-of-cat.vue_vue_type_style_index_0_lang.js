import{e as a,b as e,G as s,R as l,a6 as t,a5 as n,j as i,a2 as u,a8 as r,V as p,u as o,a4 as v,F as c,a7 as m,U as d,a3 as _,aa as f}from"./vue.js";import{L as y,e as g,r as h,A as x}from"./index.js";import{_ as b}from"./single-app-item.vue_vue_type_style_index_0_lang.js";import{u as k,r as A,s as C}from"./vuetify.js";class j{static getLocaleName(a){return y.localeIsEn()?a.name_en:a.name_zh}}const L={class:"cat-title mb-4"},w={class:"main-title"},I=["onClick"],z={style:{height:"72px","padding-left":"32px",display:"flex","align-items":"center","justify-content":"start"}},H=a({__name:"app-list-of-cat",props:{catetory:{},isAppListHomepage:{type:Boolean}},setup(a){const y=a,H=e(!1),U=e(null),E=e(null),N=e(0),R=e([]);s((()=>{const a=y.catetory;E.value=a?.subCats,E.value&&E.value.length>0?U.value=E.value[0]:U.value=y.catetory,G()})),l((()=>{F&&F.value?.disconnect()}));const B=e(null),F=e(null),G=()=>{B.value&&(F.value=new IntersectionObserver((a=>{a.forEach((a=>{a.isIntersecting&&(M(),F.value?.unobserve(a.target))}))})),F.value.observe(B.value))},M=async()=>{if(U.value&&U.value.id){H.value=!0;const a=U.value.id;R.value=await g(a);let e=R.value;y.isAppListHomepage&&(e=R.value.slice(0,15)),U.value.apps=e,H.value=!1}},O=a=>j.getLocaleName(a),V=a=>{U.value=a};return(a,e)=>(_(),t("div",{class:"cat-item-container",ref_key:"catItemContainerRef",ref:B,style:{"scroll-margin-top":"80px"}},[n("div",L,[n("div",w,p(O(a.catetory)),1),o(E)?(_(),u(k,{key:0,"show-arrows":"",class:"sub-cats"},{default:v((()=>[(_(!0),t(c,null,m(o(E),((a,e)=>{return _(),t("div",{key:e+a.name_en,class:f(["sub-cats-item",(s=e,N.value===s?"active":"")]),onClick:s=>((a,e)=>{N.value=e,V(a),M()})(a,e)},p(O(a)),11,I);var s})),128))])),_:1})):r("",!0)]),i(A,{class:"app-list gap-2 mb-2"},{default:v((()=>[(_(!0),t(c,null,m(o(U)?.apps,((a,e)=>(_(),u(C,{key:a.name,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:v((()=>[i(b,{"app-data":a},null,8,["app-data"])])),_:2},1024)))),128)),o(R).length>15&&a.isAppListHomepage?(_(),u(C,{key:0,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:v((()=>[n("div",z,[n("a",{style:{color:"rgb(var(--v-theme-primary))"},href:"#",onClick:e[0]||(e[0]=d((a=>(()=>{if(U.value?.id){const{name_en:a,name_zh:e}=U.value;h.push({name:x.UniversalAppCat,params:{id:U.value?.id,name_en:a,name_zh:e}})}})()),["prevent"]))},p(a.$t("UniversalApps.MoreApps"))+" > ",1)])])),_:1})):r("",!0)])),_:1})],512))}});export{j as C,H as _};
