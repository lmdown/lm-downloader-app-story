import{e as a,b as e,H as s,V as t,a1 as l,a0 as n,k as i,Z as r,a4 as u,a3 as o,u as p,$ as c,F as v,a2 as m,W as _,_ as d,a7 as y}from"./vue.js";import{L as f,h as g,r as h,A as x}from"./index.js";import{_ as b}from"./single-app-item.vue_vue_type_style_index_0_lang.js";import{u as k}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{u as A,r as C,s as L}from"./vuetify.js";class j{static getLocaleName(a,e){return f.localeIsEnByVal(e)?a.name_en:a.name_zh}}const w={class:"cat-title mb-4"},H={class:"main-title"},I=["onClick"],z={style:{height:"72px","padding-left":"32px",display:"flex","align-items":"center","justify-content":"start"}},B=a({__name:"app-list-of-cat",props:{catetory:{},isAppListHomepage:{type:Boolean}},setup(a){const f=a,B=e(!1),E=e(null),N=e(null),U=e(0),V=e([]),$=k();s((()=>{const a=f.catetory;N.value=a?.subCats,N.value&&N.value.length>0?E.value=N.value[0]:E.value=f.catetory,O()})),t((()=>{M&&M.value?.disconnect()}));const F=e(null),M=e(null),O=()=>{F.value&&(M.value=new IntersectionObserver((a=>{a.forEach((a=>{a.isIntersecting&&(R(),M.value?.unobserve(a.target))}))})),M.value.observe(F.value))},R=async()=>{if(E.value&&E.value.id){B.value=!0;const a=E.value.id;V.value=await g(a);let e=V.value;f.isAppListHomepage&&(e=V.value.slice(0,15)),E.value.apps=e,B.value=!1}},W=a=>j.getLocaleName(a,$.currentLocale),Z=a=>{E.value=a};return(a,e)=>(d(),l("div",{class:"cat-item-container",ref_key:"catItemContainerRef",ref:F,style:{"scroll-margin-top":"80px"}},[n("div",w,[n("div",H,o(W(a.catetory)),1),p(N)?(d(),r(A,{key:0,"show-arrows":"",class:"sub-cats"},{default:c((()=>[(d(!0),l(v,null,m(p(N),((a,e)=>{return d(),l("div",{key:e+a.name_en,class:y(["sub-cats-item",(s=e,U.value===s?"active":"")]),onClick:s=>((a,e)=>{U.value=e,Z(a),R()})(a,e)},o(W(a)),11,I);var s})),128))])),_:1})):u("",!0)]),i(C,{class:"app-list gap-2 mb-2"},{default:c((()=>[(d(!0),l(v,null,m(p(E)?.apps,(a=>(d(),r(L,{key:a.name,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:c((()=>[i(b,{"app-data":a},null,8,["app-data"])])),_:2},1024)))),128)),p(V).length>15&&a.isAppListHomepage?(d(),r(L,{key:0,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:c((()=>[n("div",z,[n("a",{style:{color:"rgb(var(--v-theme-primary))"},href:"#",onClick:e[0]||(e[0]=_((a=>(()=>{if(E.value?.id){const{name_en:a,name_zh:e}=E.value;h.push({name:x.UniversalAppCat,params:{id:E.value?.id,name_en:a,name_zh:e}})}})()),["prevent"]))},o(a.$t("UniversalApps.MoreApps"))+" > ",1)])])),_:1})):u("",!0)])),_:1})],512))}});export{j as C,B as _};
