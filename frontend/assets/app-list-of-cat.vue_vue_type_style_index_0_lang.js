import{e as a,b as e,H as s,V as l,a1 as t,a0 as n,k as i,Z as u,a4 as p,a3 as r,u as o,$ as v,F as c,a2 as m,W as d,_,a7 as f}from"./vue.js";import{L as y,h as g,r as h,A as x}from"./index.js";import{_ as b}from"./single-app-item.vue_vue_type_style_index_0_lang.js";import{s as k,p as A,q as C}from"./vuetify.js";class L{static getLocaleName(a){return y.localeIsEn()?a.name_en:a.name_zh}}const j={class:"cat-title mb-4"},w={class:"main-title"},H=["onClick"],I={style:{height:"72px","padding-left":"32px",display:"flex","align-items":"center","justify-content":"start"}},z=a({__name:"app-list-of-cat",props:{catetory:{},isAppListHomepage:{type:Boolean}},setup(a){const y=a,z=e(!1),E=e(null),N=e(null),U=e(0),$=e([]);s((()=>{const a=y.catetory;N.value=a?.subCats,N.value&&N.value.length>0?E.value=N.value[0]:E.value=y.catetory,F()})),l((()=>{B&&B.value?.disconnect()}));const q=e(null),B=e(null),F=()=>{q.value&&(B.value=new IntersectionObserver((a=>{a.forEach((a=>{a.isIntersecting&&(M(),B.value?.unobserve(a.target))}))})),B.value.observe(q.value))},M=async()=>{if(E.value&&E.value.id){z.value=!0;const a=E.value.id;$.value=await g(a);let e=$.value;y.isAppListHomepage&&(e=$.value.slice(0,15)),E.value.apps=e,z.value=!1}},O=a=>L.getLocaleName(a),R=a=>{E.value=a};return(a,e)=>(_(),t("div",{class:"cat-item-container",ref_key:"catItemContainerRef",ref:q,style:{"scroll-margin-top":"80px"}},[n("div",j,[n("div",w,r(O(a.catetory)),1),o(N)?(_(),u(k,{key:0,"show-arrows":"",class:"sub-cats"},{default:v((()=>[(_(!0),t(c,null,m(o(N),((a,e)=>{return _(),t("div",{key:e+a.name_en,class:f(["sub-cats-item",(s=e,U.value===s?"active":"")]),onClick:s=>((a,e)=>{U.value=e,R(a),M()})(a,e)},r(O(a)),11,H);var s})),128))])),_:1})):p("",!0)]),i(A,{class:"app-list gap-2 mb-2"},{default:v((()=>[(_(!0),t(c,null,m(o(E)?.apps,((a,e)=>(_(),u(C,{key:a.name,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:v((()=>[i(b,{"app-data":a},null,8,["app-data"])])),_:2},1024)))),128)),o($).length>15&&a.isAppListHomepage?(_(),u(C,{key:0,cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:v((()=>[n("div",I,[n("a",{style:{color:"rgb(var(--v-theme-primary))"},href:"#",onClick:e[0]||(e[0]=d((a=>(()=>{if(E.value?.id){const{name_en:a,name_zh:e}=E.value;h.push({name:x.UniversalAppCat,params:{id:E.value?.id,name_en:a,name_zh:e}})}})()),["prevent"]))},r(a.$t("UniversalApps.MoreApps"))+" > ",1)])])),_:1})):p("",!0)])),_:1})],512))}});export{L as C,z as _};
