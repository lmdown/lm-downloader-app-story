import{_ as a,F as e}from"./fav-btn-normal.vue_vue_type_style_index_0_lang.js";import{f as t,e as s,a6 as o,a4 as l,Z as n,a3 as i,l as p,u as c,a5 as r,k as d,X as m,O as v,F as _,a8 as u,m as f}from"./vue.js";import{a as y}from"./app-info.js";import{L as h,r as D,A as g}from"./index.js";import{u as b}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{n as k,b as L,l as w,d as j,L as x}from"./vuetify.js";import{_ as F}from"./lmd-system.js";class I{static getLocaleDesc(a){return h.localeIsEn()?a.desc_en:a.desc_zh}static getLocaleDescByLocalVal(a,e){return h.localeIsEnByVal(e)?a.desc_en:a.desc_zh}static checkIsDownloadable(a){return!!a.alias}}const C={style:{width:"40px",height:"40px",display:"block"}},A={class:"app-title-container"},E={class:"app-title"},z={key:0,class:"app-short-desc"},B=F(t({__name:"single-app-item",props:{appData:{}},emits:["removeFav"],setup(t,{emit:h}){const F=t,B=h,N=b(),O=s((()=>I.getLocaleDescByLocalVal(F.appData,N.currentLocale))),V=s((()=>I.checkIsDownloadable(F.appData))),P=async()=>{const{refLinks:a,url:e}=F.appData;let t;if(F.appData.alias)R();else{if(a){t=JSON.parse(a)[0].homepage}else e&&(t=e);S(t)}},R=async()=>{const a=(await y(F.appData.alias)).id;D.push({name:g.AppDetail,params:{id:a}})},S=a=>{const e=document.createElement("a");e.href=a,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},J=()=>{console.log("onMoreClick")},M=()=>{console.log("onFavRemove"),B("removeFav")};return(t,s)=>{const y=a;return l(),o("div",{class:"app-item",onClick:n(P,["prevent"])},[c(V)?(l(),i(L,{key:0,class:"downloadable-icon",transition:"false",width:"36",height:"36",src:"./images/icons/downloadable.png"},{default:r((()=>[d(k,{activator:"parent",location:"top",transition:"false"},{default:r((()=>[m(v(t.$t("UniversalApps.Downloadable")),1)])),_:1})])),_:1})):(l(),o(_,{key:1},[t.appData.id?(l(),i(x,{key:0,location:"bottom","close-on-content-click":!1},{activator:r((({props:a})=>[p("div",f({onClick:n(J,["stop"])},a,{class:"more-controls-icon"}),[d(j,{icon:"mdi-dots-horizontal"})],16)])),default:r((()=>[d(w,{style:{"border-radius":"8px"},elevation:"2"},{default:r((()=>[d(y,{"btn-style":"large","res-id":t.appData.id,onRemoveFav:M,"res-type":c(e).ONLINE_APP},null,8,["res-id","res-type"])])),_:1})])),_:1})):u("",!0)],64)),p("div",C,[d(L,{width:"40",height:"40",src:t.appData.icon,transition:"false"},null,8,["src"])]),p("div",A,[p("div",E,[m(v(t.appData.name)+" ",1),d(k,{"open-delay":"1000",activator:"parent",location:"top",transition:"false"},{default:r((()=>[m(v(t.appData.name),1)])),_:1})]),c(O)?(l(),o("div",z,[m(v(c(O))+" ",1),d(k,{"open-delay":"700",activator:"parent",location:"bottom",transition:"false"},{default:r((()=>[m(v(c(O)),1)])),_:1})])):u("",!0)])])}}}),[["__scopeId","data-v-31c4def5"]]);export{B as S};
