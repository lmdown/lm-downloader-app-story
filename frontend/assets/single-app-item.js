import{_ as a,F as e}from"./fav-btn-normal.vue_vue_type_style_index_0_lang.js";import{e as t,c as s,a3 as o,a0 as l,Y as n,$ as i,a2 as p,u as c,a1 as r,k as d,S as m,K as v,F as _,a5 as u,m as f}from"./vue.js";import{a as y}from"./app-info.js";import{L as h,r as D,A as g}from"./index.js";import{u as b}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{n as k,b as w,l as L,d as j,J as x}from"./vuetify.js";import{_ as F}from"./lmd-system.js";class I{static getLocaleDesc(a){return h.localeIsEn()?a.desc_en:a.desc_zh}static getLocaleDescByLocalVal(a,e){return h.localeIsEnByVal(e)?a.desc_en:a.desc_zh}static checkIsDownloadable(a){return!!a.alias}}const C={style:{width:"40px",height:"40px",display:"block"}},A={class:"app-title-container"},E={class:"app-title"},z={key:0,class:"app-short-desc"},B=F(t({__name:"single-app-item",props:{appData:{}},emits:["removeFav"],setup(t,{emit:h}){const F=t,B=h,N=b(),S=s((()=>I.getLocaleDescByLocalVal(F.appData,N.currentLocale))),V=s((()=>I.checkIsDownloadable(F.appData))),J=async()=>{const{refLinks:a,url:e}=F.appData;let t;if(F.appData.alias)O();else{if(a){t=JSON.parse(a)[0].homepage}else e&&(t=e);P(t)}},O=async()=>{const a=(await y(F.appData.alias)).id;D.push({name:g.AppDetail,params:{id:a}})},P=a=>{const e=document.createElement("a");e.href=a,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},R=()=>{console.log("onMoreClick")},$=()=>{console.log("onFavRemove"),B("removeFav")};return(t,s)=>{const y=a;return l(),o("div",{class:"app-item",onClick:n(J,["prevent"])},[c(V)?(l(),i(w,{key:0,class:"downloadable-icon",transition:"false",width:"36",height:"36",src:"./images/icons/downloadable.png"},{default:r((()=>[d(k,{activator:"parent",location:"top",transition:"false"},{default:r((()=>[m(v(t.$t("UniversalApps.Downloadable")),1)])),_:1})])),_:1})):(l(),o(_,{key:1},[t.appData.id?(l(),i(x,{key:0,location:"bottom","close-on-content-click":!1},{activator:r((({props:a})=>[p("div",f({onClick:n(R,["stop"])},a,{class:"more-controls-icon"}),[d(j,{icon:"mdi-dots-horizontal"})],16)])),default:r((()=>[d(L,{style:{"border-radius":"8px"},elevation:"2"},{default:r((()=>[d(y,{"btn-style":"large","res-id":t.appData.id,onRemoveFav:$,"res-type":c(e).ONLINE_APP},null,8,["res-id","res-type"])])),_:1})])),_:1})):u("",!0)],64)),p("div",C,[d(w,{width:"40",height:"40",src:t.appData.icon,transition:"false"},null,8,["src"])]),p("div",A,[p("div",E,[m(v(t.appData.name)+" ",1),d(k,{"open-delay":"1000",activator:"parent",location:"top",transition:"false"},{default:r((()=>[m(v(t.appData.name),1)])),_:1})]),c(S)?(l(),o("div",z,[m(v(c(S))+" ",1),d(k,{"open-delay":"700",activator:"parent",location:"bottom",transition:"false"},{default:r((()=>[m(v(c(S)),1)])),_:1})])):u("",!0)])])}}}),[["__scopeId","data-v-21792ba2"]]);export{B as S};
