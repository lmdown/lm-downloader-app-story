import{_ as e}from"./lmd-system.js";import{a3 as a,a0 as t,a2 as s,k as l,K as i,S as r,e as n,b as o,H as c,$ as u,a1 as m,F as p,a4 as d,u as v,Y as h,a5 as g,c as f,a8 as y,m as _,z as x,B as k,q as b,X as w,l as C,a9 as j}from"./vue.js";import{b as T,l as $,m as D,n as A,o as M,p as H,q as I,r as P}from"./vuetify.js";import{_ as S,F as z}from"./single-app-item.js";import{r as U,A as F,u as O,d as R}from"./index.js";import{g as L}from"./tutorial-text.js";import{g as N}from"./app-info.js";import{_ as E}from"./app-list-data-error.vue_vue_type_style_index_0_lang.js";import{_ as J,C as q}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{u as B}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{_ as X}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{g as K}from"./home-banner.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";const W={class:"author-entry-container"},Y={class:"author-entry-left ml-9"},G={class:"title1"},Q={class:"title2"},V={class:"waiting-tag"},Z={class:"slogan"};const ee=e({},[["render",function(e,n){return t(),a("div",W,[s("div",Y,[s("div",G,i(e.$t("Tutorial.PathfinderTitle1")),1),s("div",Q,[r(i(e.$t("Tutorial.PathfinderTitle2"))+" ",1),s("div",V,i(e.$t("Tutorial.ComingSoon")),1)]),s("div",Z,i(e.$t("Tutorial.PathfinderSlogan")),1)]),l(T,{class:"large-icon mr-11",cover:"","max-width":"135","max-height":"136",width:"135",height:"136",src:"./images/tutorials/pathfinder.png"})])}]]),ae={class:"main-title"},te={class:"article-title mb-2"},se=["onClick"],le={class:"article-summary mb-3"},ie={class:"article-summary-text"},re={class:"article-actions"},ne={style:{"white-space":"nowrap",overflow:"hidden",flex:"1"}},oe=["onClick"],ce=n({__name:"suggested-articles",setup(e){const n=o([]);c((async()=>{const e=await L();e&&e.length>0&&(e.forEach((e=>{if("string"==typeof e.apps)return e.apps=JSON.parse(e.apps),e})),n.value=e)}));const f=e=>{const a=document.createElement("a");a.href=e,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},y=async e=>{const a=(await N(e.alias)).id;U.push({name:F.AppDetail,params:{id:a}})};return(e,o)=>{const c=S;return t(),u($,{class:"suggested-articles mb-8"},{default:m((()=>[s("div",ae,i(e.$t("Tutorial.PopularTitle")),1),(t(!0),a(p,null,d(v(n),((n,o)=>(t(),a("div",{class:"article-item",key:o},[s("div",te,[s("a",{href:"#",onClick:h((e=>(e=>{U.push({name:F.TutorialTextDetail,params:{id:e.id}})})(n)),["prevent"])},i(n.title),9,se)]),s("div",le,[n.coverUrl?(t(),u(T,{key:0,class:"article-cover mr-5",src:n.coverUrl,rounded:"lg",cover:"",width:"160",height:"96","max-width":"160","max-height":"96"},null,8,["src"])):g("",!0),s("div",ie,i(n.summary),1)]),s("div",re,[l(c,{"res-id":n.id,"res-type":v(z).TUT_TEXT},null,8,["res-id","res-type"]),s("div",ne,[r(i(e.$t("Tutorial.RelatedApps"))+": ",1),(t(!0),a(p,null,d(n.apps,((e,l)=>(t(),a(p,{key:l},[s("a",{href:"#",onClick:h((a=>(e=>{const a=e.url;e.alias?y(e):a&&f(a)})(e)),["prevent"])},i(e.name),9,oe),l+1!==n.apps?.length?(t(),a(p,{key:0},[r(" , ")],64)):g("",!0)],64)))),128))])])])))),128))])),_:1})}}}),ue={class:"tab-bar main-home-app-title"},me={key:0,class:"main-home-app-list",style:{flex:"1"}},pe={key:0,class:"app-cats"},de=["onClick"],ve={class:"indicator"},he={class:"app-items pl-1 pr-5",style:{overflow:"auto",height:"auto"}},ge=n({__name:"home-apps",setup(e){const r=o("1"),n=B(),h=o(0),w=o(null),C=O();c((async()=>{await C.getAllCats(),C.allCatsData&&C.allCatsData.length>0&&(w.value=C.allCatsData[0])}));const j=e=>q.getLocaleName(e,n.currentLocale),M=f((()=>{const e=JSON.parse(JSON.stringify(C.allCatsData)).splice(0,5);return e.push({name_en:"All",name_zh:"全部",alias:"all"}),e}));return(e,n)=>{const o=J,c=E;return t(),a(p,null,[s("div",ue,i(e.$t("MainHome.AppsTitle")),1),"1"===v(r)?(t(),a("div",me,[v(C).allCatsData&&v(C).allCatsData.length>0?(t(),a(p,{key:0},[v(C).searchInProgress?g("",!0):(t(),a("div",pe,[(t(!0),a(p,null,d(v(M),((e,i)=>{return t(),a("div",{key:i,class:y(["nav-item",(r=i,h.value===r?"active":"")]),onClick:a=>((e,a)=>{a.id?(h.value=e,w.value=a):U.push({name:F.UniversalAppHome})})(i,e)},[l(A,{text:j(e),location:"left"},{activator:m((({props:a})=>[l(T,_({width:"57",height:"60","max-width":"57","max-height":"60",draggable:"false",ref_for:!0},a,{src:`./images/app-cats/${e.alias}.png`}),null,16,["src"])])),_:2},1032,["text"]),l(b,{name:"fade"},{default:m((()=>[x(s("div",ve,null,512),[[k,v(h)===i]])])),_:2},1024)],10,de);var r})),128))])),s("div",he,[v(w)?(t(),u(o,{key:0,"is-app-list-homepage":!0,"app-list-style":"home-simple","items-limit-for-home":30,catetory:v(w)},null,8,["catetory"])):g("",!0)])],64)):(t(),a(p,{key:1},[v(C).loadInProgress?(t(),u($,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:m((()=>[l(D,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):g("",!0),v(C).loadInProgress?g("",!0):(t(),u(c,{key:1,"show-border":!1,style:{flex:"1"}}))],64))])):g("",!0)],64)}}}),fe=["onClick","onMouseenter"],ye={style:{flex:"1",overflow:"hidden"}},_e={class:"image-wrapper"},xe=e(n({__name:"multi-image-banner",setup(e){const n=o(0),v=o(null),_=o(0),$=f((()=>D.value.length)),D=o([]),A=B(),P=()=>{v.value&&(_.value=v.value.offsetWidth)};let S=null;c((()=>{P(),S=new ResizeObserver(P),v.value&&S.observe(v.value),z()})),w((()=>{S?.disconnect()}));const z=async()=>{D.value=await K()};C((()=>A.currentLocale),z);const O=()=>{},R=e=>{if(n.value===e){const e=200*($.value-1);return{flex:`1 1 ${Math.max(_.value-e,200)}px`}}return{flex:"0 0 200px"}},L=e=>`background-color: ${e.logoBg}`,N=e=>{U.currentRoute.value.name!==F.AppDetail&&U.push({name:F.AppDetail,params:{id:e.appId}})};return(e,o)=>(t(),a("div",{ref_key:"containerRef",ref:v,class:"banner-container",onMouseleave:O,style:{height:"280px"}},[(t(!0),a(p,null,d(D.value,((o,c)=>(t(),a("div",{key:c,onClick:h((e=>N(o)),["prevent"]),class:y(["banner-item",{active:n.value===c}]),onMouseenter:e=>(e=>{e>=0&&e<$.value&&(n.value=e)})(c),style:j(R(c))},[s("div",{class:"d-flex flex-row app-info",style:j(`background: ${o.titleStyleCode}; align-items:center`)},[n.value===c?(t(),u(T,{key:0,src:o.logo,class:"app-logo",style:j(L(o)),transition:"false",width:"68",height:"68","max-width":"68","max-height":"68"},null,8,["src","style"])):g("",!0),n.value!==c?(t(),u(T,{key:1,src:`./images/app/rank${c+1}.svg`,class:"rank-icon",transition:"false",width:"24",height:"32","max-width":"24","max-height":"32"},null,8,["src"])):g("",!0),s("div",ye,[l(M,null,{default:m((()=>[r(i(o.title),1)])),_:2},1024),n.value===c?(t(),u(H,{key:0},{default:m((()=>[r(i(o.subtitle),1)])),_:2},1024)):g("",!0)]),l(b,{name:"fade"},{default:m((()=>[x(l(I,{color:"#FFF",class:"install-btn",onClick:e=>N(o)},{default:m((()=>[r(i(e.$t("MainHome.DetailsLabel")),1)])),_:2},1032,["onClick"]),[[k,n.value===c]])])),_:2},1024)],4),s("div",_e,[l(T,{src:o.coverImageUrl,"lazy-src":o.coverImageUrl,"max-height":"280",height:"280",cover:"",transition:"false",class:"banner-image"},null,8,["src","lazy-src"])])],46,fe)))),128))],544))}}),[["__scopeId","data-v-9c56e311"]]),ke={class:"main-home-bottom-content mt-8 ga-8"},be={class:"left-side"},we={class:"right-side"},Ce=n({__name:"MainHome",setup(e){const i=o(600),r=o(null);let n=null;const u=()=>{if(r.value){let e;e=r.value.scrollHeight>600?r.value.scrollHeight:600;const a=e-(e-136)%96;i.value=a}};return c((async()=>{r.value&&(u(),n=new ResizeObserver(R((()=>{u()}),200)),n.observe(r.value))})),w((()=>{n&&r.value&&(n.unobserve(r.value),n=null)})),(e,n)=>{const o=X,c=ge,u=ce,d=ee;return t(),a(p,null,[l(o,{"main-title":e.$t("MainHome.MainTitle")},null,8,["main-title"]),l(P,{class:"main-home-content mt-0 pt-0 px-8 pb-8"},{default:m((()=>[l(xe),s("div",ke,[s("div",be,[s("div",{style:j({height:`${v(i)}px`}),class:"inner-border"},[l(c)],4)]),s("div",we,[s("div",{ref_key:"realContent",ref:r},[l(u),l(d)],512)])])])),_:1})],64)}}});export{Ce as default};
