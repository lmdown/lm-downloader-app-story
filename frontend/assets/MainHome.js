import{_ as e}from"./lmd-system.js";import{a3 as a,a0 as t,a2 as s,k as l,K as i,S as r,e as n,b as o,H as c,l as u,$ as m,a1 as p,F as d,a4 as v,u as h,Y as g,a5 as f,c as y,a8 as _,m as x,z as k,B as b,q as w,X as C,a9 as T}from"./vue.js";import{b as j,l as $,m as D,n as M,o as H,p as A,q as I,r as L}from"./vuetify.js";import{_ as P,F as S}from"./single-app-item.js";import{r as z,A as U,u as F,d as O}from"./index.js";import{g as R}from"./tutorial-text.js";import{g as N}from"./app-info.js";import{u as E}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{_ as J}from"./app-list-data-error.vue_vue_type_style_index_0_lang.js";import{_ as q,C as B}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{_ as X}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{g as K}from"./home-banner.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";const W={class:"author-entry-container"},Y={class:"author-entry-left ml-9"},G={class:"title1"},Q={class:"title2"},V={class:"waiting-tag"},Z={class:"slogan"};const ee=e({},[["render",function(e,n){return t(),a("div",W,[s("div",Y,[s("div",G,i(e.$t("Tutorial.PathfinderTitle1")),1),s("div",Q,[r(i(e.$t("Tutorial.PathfinderTitle2"))+" ",1),s("div",V,i(e.$t("Tutorial.ComingSoon")),1)]),s("div",Z,i(e.$t("Tutorial.PathfinderSlogan")),1)]),l(j,{class:"large-icon mr-11",cover:"","max-width":"135","max-height":"136",width:"135",height:"136",src:"./images/tutorials/pathfinder.png"})])}]]),ae={class:"main-title"},te={class:"article-title mb-2"},se=["onClick"],le={class:"article-summary mb-3"},ie=["innerHTML"],re={class:"article-actions"},ne={style:{"white-space":"nowrap",overflow:"hidden",flex:"1"}},oe=["onClick"],ce=n({__name:"suggested-articles",setup(e){const n=o([]),y=E();c((()=>{_()}));const _=async()=>{const e=await R();e&&e.length>0&&(e.forEach((e=>{if("string"==typeof e.apps)return e.apps=JSON.parse(e.apps),e})),n.value=e)};u((()=>y.currentLocale),_);const x=e=>{const a=document.createElement("a");a.href=e,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},k=async e=>{const a=(await N(e.alias)).id;z.push({name:U.AppDetail,params:{id:a}})};return(e,o)=>{const c=P;return t(),m($,{class:"suggested-articles mb-8"},{default:p((()=>[s("div",ae,i(e.$t("Tutorial.PopularTitle")),1),(t(!0),a(d,null,v(h(n),((n,o)=>(t(),a("div",{class:"article-item",key:o},[s("div",te,[s("a",{href:"#",onClick:g((e=>(e=>{z.push({name:U.TutorialTextDetail,params:{id:e.id}})})(n)),["prevent"])},i(n.title),9,se)]),s("div",le,[n.coverUrl?(t(),m(j,{key:0,class:"article-cover mr-5",src:n.coverUrl,rounded:"lg",cover:"",width:"160",height:"96","max-width":"160","max-height":"96"},null,8,["src"])):f("",!0),s("div",{class:"article-summary-text",innerHTML:n.summary},null,8,ie)]),s("div",re,[l(c,{"res-id":n.id,"res-type":h(S).TUT_TEXT},null,8,["res-id","res-type"]),s("div",ne,[r(i(e.$t("Tutorial.RelatedApps"))+": ",1),(t(!0),a(d,null,v(n.apps,((e,l)=>(t(),a(d,{key:l},[s("a",{href:"#",onClick:g((a=>(e=>{const a=e.url;e.alias?k(e):a&&x(a)})(e)),["prevent"])},i(e.name),9,oe),l+1!==n.apps?.length?(t(),a(d,{key:0},[r(" , ")],64)):f("",!0)],64)))),128))])])])))),128))])),_:1})}}}),ue={class:"tab-bar main-home-app-title"},me={key:0,class:"main-home-app-list",style:{flex:"1"}},pe={key:0,class:"app-cats"},de=["onClick"],ve={class:"indicator"},he={class:"app-items pl-1 pr-5 pt-0",style:{overflow:"auto",height:"auto"}},ge=n({__name:"home-apps",setup(e){const r=o("1"),n=E(),u=o(0),g=o(null),C=F();c((async()=>{await C.getAllCats(),C.allCatsData&&C.allCatsData.length>0&&(g.value=C.allCatsData[0])}));const T=e=>B.getLocaleName(e,n.currentLocale),H=y((()=>{const e=JSON.parse(JSON.stringify(C.allCatsData)).splice(0,5);return e.push({name_en:"All",name_zh:"全部",alias:"all"}),e}));return(e,n)=>{const o=q,c=J;return t(),a(d,null,[s("div",ue,i(e.$t("MainHome.AppsTitle")),1),"1"===h(r)?(t(),a("div",me,[h(C).allCatsData&&h(C).allCatsData.length>0?(t(),a(d,{key:0},[h(C).searchInProgress?f("",!0):(t(),a("div",pe,[(t(!0),a(d,null,v(h(H),((e,i)=>{return t(),a("div",{key:i,class:_(["nav-item",(r=i,u.value===r?"active":"")]),onClick:a=>((e,a)=>{a.id?(u.value=e,g.value=a):z.push({name:U.UniversalAppHome})})(i,e)},[l(M,{text:T(e),location:"left"},{activator:p((({props:a})=>[l(j,x({width:"57",height:"60","max-width":"57","max-height":"60",draggable:"false",ref_for:!0},a,{src:`./images/app-cats/${e.alias}.png`}),null,16,["src"])])),_:2},1032,["text"]),l(w,{name:"fade"},{default:p((()=>[k(s("div",ve,null,512),[[b,h(u)===i]])])),_:2},1024)],10,de);var r})),128))])),s("div",he,[h(g)?(t(),m(o,{key:0,"is-app-list-homepage":!0,"app-list-style":"home-simple","items-limit-for-home":30,catetory:h(g)},null,8,["catetory"])):f("",!0)])],64)):(t(),a(d,{key:1},[h(C).loadInProgress?(t(),m($,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:p((()=>[l(D,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):f("",!0),h(C).loadInProgress?f("",!0):(t(),m(c,{key:1,"show-border":!1,style:{flex:"1"}}))],64))])):f("",!0)],64)}}}),fe=["onClick","onMouseenter"],ye={style:{flex:"1",overflow:"hidden"}},_e={class:"image-wrapper"},xe=e(n({__name:"multi-image-banner",setup(e){const n=o(0),h=o(null),x=o(0),$=y((()=>D.value.length)),D=o([]),M=E(),L=()=>{h.value&&(x.value=h.value.offsetWidth)};let P=null;c((()=>{L(),P=new ResizeObserver(L),h.value&&P.observe(h.value),S()})),C((()=>{P?.disconnect()}));const S=async()=>{D.value=await K()};u((()=>M.currentLocale),S);const F=()=>{},O=e=>{if(n.value===e){const e=200*($.value-1);return{flex:`1 1 ${Math.max(x.value-e,200)}px`}}return{flex:"0 0 200px"}},R=e=>`background-color: ${e.logoBg}`,N=e=>{z.currentRoute.value.name!==U.AppDetail&&z.push({name:U.AppDetail,params:{id:e.appId}})};return(e,o)=>(t(),a("div",{ref_key:"containerRef",ref:h,class:"banner-container",onMouseleave:F,style:{height:"280px"}},[(t(!0),a(d,null,v(D.value,((o,c)=>(t(),a("div",{key:c,onClick:g((e=>N(o)),["prevent"]),class:_(["banner-item",{active:n.value===c}]),onMouseenter:e=>(e=>{e>=0&&e<$.value&&(n.value=e)})(c),style:T(O(c))},[s("div",{class:"d-flex flex-row app-info",style:T(`background: ${o.titleStyleCode}; align-items:center`)},[n.value===c?(t(),m(j,{key:0,src:o.logo,class:"app-logo",style:T(R(o)),transition:"false",width:"68",height:"68","max-width":"68","max-height":"68"},null,8,["src","style"])):f("",!0),n.value!==c?(t(),m(j,{key:1,src:`./images/app/rank${c+1}.svg`,class:"rank-icon",transition:"false",width:"24",height:"32","max-width":"24","max-height":"32"},null,8,["src"])):f("",!0),s("div",ye,[l(H,null,{default:p((()=>[r(i(o.title),1)])),_:2},1024),n.value===c?(t(),m(A,{key:0},{default:p((()=>[r(i(o.subtitle),1)])),_:2},1024)):f("",!0)]),l(w,{name:"fade"},{default:p((()=>[k(l(I,{color:"#FFF",class:"install-btn",onClick:e=>N(o)},{default:p((()=>[r(i(e.$t("MainHome.DetailsLabel")),1)])),_:2},1032,["onClick"]),[[b,n.value===c]])])),_:2},1024)],4),s("div",_e,[l(j,{src:o.coverImageUrl,"lazy-src":o.coverImageUrl,"max-height":"280",height:"280",cover:"",transition:"false",class:"banner-image"},null,8,["src","lazy-src"])])],46,fe)))),128))],544))}}),[["__scopeId","data-v-9c56e311"]]),ke={class:"main-home-bottom-content mt-8 ga-8"},be={class:"left-side"},we={class:"right-side"},Ce=n({__name:"MainHome",setup(e){const i=o(600),r=o(null);let n=null;const u=()=>{if(r.value){let e;e=r.value.scrollHeight>600?r.value.scrollHeight+80:600;const a=e-(e-128)%96;i.value=a}};return c((async()=>{r.value&&(u(),n=new ResizeObserver(O((()=>{u()}),200)),n.observe(r.value))})),C((()=>{n&&r.value&&(n.unobserve(r.value),n=null)})),(e,n)=>{const o=X,c=ge,u=ce,m=ee;return t(),a(d,null,[l(o,{"main-title":e.$t("MainHome.MainTitle")},null,8,["main-title"]),l(L,{class:"main-home-content mt-0 pt-0 px-8 pb-8"},{default:p((()=>[l(xe),s("div",ke,[s("div",be,[s("div",{style:T({height:`${h(i)}px`}),class:"inner-border"},[l(c)],4)]),s("div",we,[s("div",{ref_key:"realContent",ref:r},[l(u),l(m)],512)])])])),_:1})],64)}}});export{Ce as default};
