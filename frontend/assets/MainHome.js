import{_ as e}from"./lmd-system.js";import{a3 as a,a0 as t,a2 as l,k as s,K as i,S as r,e as n,b as o,H as c,$ as u,a1 as m,F as p,a4 as d,u as v,Y as h,a5 as g,c as f,j as y,a8 as _,m as x,z as k,B as b,q as w,X as C,l as j,a9 as T}from"./vue.js";import{b as $,l as D,m as A,n as M,o as H,p as z,q as I,r as P,s as S,t as U}from"./vuetify.js";import{_ as F,F as O}from"./single-app-item.js";import{r as R,A as L,u as N,d as E}from"./index.js";import{g as J}from"./tutorial-text.js";import{g as V}from"./app-info.js";import{_ as q}from"./app-list-data-error.vue_vue_type_style_index_0_lang.js";import{_ as B,C as X}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{u as K}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{_ as W}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{g as Y}from"./home-banner.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";const G={class:"author-entry-container"},Q={class:"author-entry-left ml-9"},Z={class:"title1"},ee={class:"title2"},ae={class:"waiting-tag"},te={class:"slogan"};const le=e({},[["render",function(e,n){return t(),a("div",G,[l("div",Q,[l("div",Z,i(e.$t("Tutorial.PathfinderTitle1")),1),l("div",ee,[r(i(e.$t("Tutorial.PathfinderTitle2"))+" ",1),l("div",ae,i(e.$t("Tutorial.ComingSoon")),1)]),l("div",te,i(e.$t("Tutorial.PathfinderSlogan")),1)]),s($,{class:"large-icon mr-11","max-width":"140","max-height":"132",width:"140",height:"132",src:"./images/tutorials/pathfinder.png"})])}]]),se={class:"main-title"},ie={class:"article-title mb-2"},re=["onClick"],ne={class:"article-summary mb-3"},oe={class:"article-summary-text"},ce={class:"article-actions"},ue={style:{"white-space":"nowrap",overflow:"hidden",flex:"1"}},me=["onClick"],pe=n({__name:"suggested-articles",setup(e){const n=o([]);c((async()=>{const e=await J();e&&e.length>0&&(e.forEach((e=>{if("string"==typeof e.apps)return e.apps=JSON.parse(e.apps),e})),n.value=e)}));const f=e=>{const a=document.createElement("a");a.href=e,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},y=async e=>{const a=(await V(e.alias)).id;R.push({name:L.AppDetail,params:{id:a}})};return(e,o)=>{const c=F;return t(),u(D,{class:"suggested-articles mb-8"},{default:m((()=>[l("div",se,i(e.$t("Tutorial.PopularTitle")),1),(t(!0),a(p,null,d(v(n),((n,o)=>(t(),a("div",{class:"article-item",key:o},[l("div",ie,[l("a",{href:"#",onClick:h((e=>(e=>{R.push({name:L.TutorialTextDetail,params:{id:e.id}})})(n)),["prevent"])},i(n.title),9,re)]),l("div",ne,[n.coverUrl?(t(),u($,{key:0,class:"article-cover mr-5",src:n.coverUrl,rounded:"lg",cover:"",width:"160",height:"96","max-width":"160","max-height":"96"},null,8,["src"])):g("",!0),l("div",oe,i(n.summary),1)]),l("div",ce,[s(c,{"res-id":n.id,"res-type":v(O).TUT_TEXT},null,8,["res-id","res-type"]),l("div",ue,[r(i(e.$t("Tutorial.RelatedApps"))+": ",1),(t(!0),a(p,null,d(n.apps,((e,s)=>(t(),a(p,{key:s},[l("a",{href:"#",onClick:h((a=>(e=>{const a=e.url;e.alias?y(e):a&&f(a)})(e)),["prevent"])},i(e.name),9,me),s+1!==n.apps?.length?(t(),a(p,{key:0},[r(" , ")],64)):g("",!0)],64)))),128))])])])))),128))])),_:1})}}}),de={class:"tab-bar"},ve={key:0,class:"main-home-app-list",style:{flex:"1"}},he={key:0,class:"app-cats"},ge=["onClick"],fe={class:"indicator"},ye={class:"app-items pl-1 pr-5",style:{overflow:"auto",height:"auto"}},_e=n({__name:"home-apps",setup(e){const n=o("1"),h=K(),C=o(0),j=o(null),T=N();c((async()=>{await T.getAllCats(),T.allCatsData&&T.allCatsData.length>0&&(j.value=T.allCatsData[0])}));const I=e=>X.getLocaleName(e,h.currentLocale),P=f((()=>{const e=JSON.parse(JSON.stringify(T.allCatsData)).splice(0,5);return e.push({name_en:"All",name_zh:"全部",alias:"all"}),e}));return(e,o)=>{const c=B,h=q;return t(),a(p,null,[l("div",de,[s(A,{class:"mx-2",height:"54","hide-slider":!0,modelValue:v(n),"onUpdate:modelValue":o[0]||(o[0]=e=>y(n)?n.value=e:null),"align-tabs":"start",color:"primary"},{default:m((()=>[s(M,{value:"1",style:{"font-size":"18px"}},{default:m((()=>[r(i(e.$t("MainHome.AppsTitle")),1)])),_:1})])),_:1},8,["modelValue"])]),"1"===v(n)?(t(),a("div",ve,[v(T).allCatsData&&v(T).allCatsData.length>0?(t(),a(p,{key:0},[v(T).searchInProgress?g("",!0):(t(),a("div",he,[(t(!0),a(p,null,d(v(P),((e,i)=>{return t(),a("div",{key:i,class:_(["nav-item",(r=i,C.value===r?"active":"")]),onClick:a=>((e,a)=>{a.id?(C.value=e,j.value=a):R.push({name:L.UniversalAppHome})})(i,e)},[s(z,{text:I(e),location:"left"},{activator:m((({props:a})=>[s($,x({width:"57",height:"60","max-width":"57","max-height":"60",draggable:"false",ref_for:!0},a,{src:`./images/app-cats/${e.alias}.png`}),null,16,["src"])])),_:2},1032,["text"]),s(w,{name:"fade"},{default:m((()=>[k(l("div",fe,null,512),[[b,v(C)===i]])])),_:2},1024)],10,ge);var r})),128))])),l("div",ye,[v(j)?(t(),u(c,{key:0,"is-app-list-homepage":!0,"app-list-style":"home-simple","items-limit-for-home":30,catetory:v(j)},null,8,["catetory"])):g("",!0)])],64)):(t(),a(p,{key:1},[v(T).loadInProgress?(t(),u(D,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:m((()=>[s(H,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):g("",!0),v(T).loadInProgress?g("",!0):(t(),u(h,{key:1,"show-border":!1,style:{flex:"1"}}))],64))])):g("",!0)],64)}}}),xe=["onClick","onMouseenter"],ke={style:{flex:"1",overflow:"hidden"}},be={class:"image-wrapper"},we=e(n({__name:"multi-image-banner",setup(e){const n=o(0),v=o(null),y=o(0),x=f((()=>D.value.length)),D=o([]),A=K(),M=()=>{v.value&&(y.value=v.value.offsetWidth)};let H=null;c((()=>{M(),H=new ResizeObserver(M),v.value&&H.observe(v.value),z()})),C((()=>{H?.disconnect()}));const z=async()=>{D.value=await Y()};j((()=>A.currentLocale),z);const U=()=>{},F=e=>{if(n.value===e){const e=200*(x.value-1);return{flex:`1 1 ${Math.max(y.value-e,200)}px`}}return{flex:"0 0 200px"}},O=e=>`background-color: ${e.logoBg}`,N=e=>{R.currentRoute.value.name!==L.AppDetail&&R.push({name:L.AppDetail,params:{id:e.appId}})};return(e,o)=>(t(),a("div",{ref_key:"containerRef",ref:v,class:"banner-container",onMouseleave:U,style:{height:"280px"}},[(t(!0),a(p,null,d(D.value,((o,c)=>(t(),a("div",{key:c,onClick:h((e=>N(o)),["prevent"]),class:_(["banner-item",{active:n.value===c}]),onMouseenter:e=>(e=>{e>=0&&e<x.value&&(n.value=e)})(c),style:T(F(c))},[l("div",{class:"d-flex flex-row app-info",style:T(`background: ${o.titleStyleCode}; align-items:center`)},[n.value===c?(t(),u($,{key:0,src:o.logo,class:"app-logo",style:T(O(o)),transition:"false",width:"68",height:"68","max-width":"68","max-height":"68"},null,8,["src","style"])):g("",!0),n.value!==c?(t(),u($,{key:1,src:`./images/app/rank${c+1}.svg`,class:"rank-icon",transition:"false",width:"24",height:"32","max-width":"24","max-height":"32"},null,8,["src"])):g("",!0),l("div",ke,[s(I,null,{default:m((()=>[r(i(o.title),1)])),_:2},1024),n.value===c?(t(),u(P,{key:0},{default:m((()=>[r(i(o.subtitle),1)])),_:2},1024)):g("",!0)]),s(w,{name:"fade"},{default:m((()=>[k(s(S,{color:"#FFF",class:"install-btn",onClick:e=>N(o)},{default:m((()=>[r(i(e.$t("MainHome.DetailsLabel")),1)])),_:2},1032,["onClick"]),[[b,n.value===c]])])),_:2},1024)],4),l("div",be,[s($,{src:o.coverImageUrl,"lazy-src":o.coverImageUrl,"max-height":"280",height:"280",cover:"",transition:"false",class:"banner-image"},null,8,["src","lazy-src"])])],46,xe)))),128))],544))}}),[["__scopeId","data-v-637516ca"]]),Ce={class:"main-home-bottom-content mt-8 ga-8"},je={class:"left-side"},Te={class:"right-side"},$e=n({__name:"MainHome",setup(e){const i=o(600),r=o(null);let n=null;const u=()=>{if(r.value){let e;e=r.value.scrollHeight>600?r.value.scrollHeight:600;const a=e-(e-136)%96;i.value=a}};return c((async()=>{r.value&&(u(),n=new ResizeObserver(E((()=>{u()}),200)),n.observe(r.value))})),C((()=>{n&&r.value&&(n.unobserve(r.value),n=null)})),(e,n)=>{const o=W,c=_e,u=pe,d=le;return t(),a(p,null,[s(o,{"main-title":e.$t("MainHome.MainTitle")},null,8,["main-title"]),s(U,{class:"main-home-content mt-0 pt-0 px-8 pb-8"},{default:m((()=>[s(we),l("div",Ce,[l("div",je,[l("div",{style:T({height:`${v(i)}px`}),class:"inner-border"},[s(c)],4)]),l("div",Te,[l("div",{ref_key:"realContent",ref:r},[s(u),s(d)],512)])])])),_:1})],64)}}});export{$e as default};
