import{_ as e}from"./lmd-system.js";import{a4 as a,a1 as t,a3 as s,k as l,K as i,S as n,e as r,b as o,H as c,l as u,a0 as p,a2 as m,V as v,u as d,c as h,F as g,a6 as f,a5 as _,a9 as y,m as x,z as k,B as b,q as w,Z as j,aa as C}from"./vue.js";import{b as $,d as T,l as A,m as M,n as D,o as z,p as H,q as I,r as P}from"./vuetify.js";import{_ as S}from"./tut-txt-list.js";import{r as L,A as O,u as F,d as N,a as R}from"./index.js";import{g as U}from"./tutorial-text.js";import{u as J}from"./top-right-controls.vue_vue_type_style_index_0_lang.js";import{_ as q}from"./app-list-data-error.vue_vue_type_style_index_0_lang.js";import{_ as B,C as E}from"./app-list-of-cat.vue_vue_type_style_index_0_lang.js";import{_ as K}from"./top-app-bar.vue_vue_type_style_index_0_lang.js";import{g as V}from"./home-banner.js";import"./fav-btn-normal.vue_vue_type_style_index_0_lang.js";import"./app-info.js";import"./pinia.js";import"./xterm.js";import"./debounce.js";import"./vuei18n.js";import"./lmd-locales.js";import"./single-app-item.js";const W={class:"author-entry-container"},Z={class:"author-entry-left ml-9"},G={class:"title1"},Q={class:"title2"},X={class:"waiting-tag"},Y={class:"slogan"};const ee=e({},[["render",function(e,r){return t(),a("div",W,[s("div",Z,[s("div",G,i(e.$t("Tutorial.PathfinderTitle1")),1),s("div",Q,[n(i(e.$t("Tutorial.PathfinderTitle2"))+" ",1),s("div",X,i(e.$t("Tutorial.ComingSoon")),1)]),s("div",Y,i(e.$t("Tutorial.PathfinderSlogan")),1)]),l($,{class:"large-icon mr-11",cover:"","max-width":"135","max-height":"136",width:"135",height:"136",src:"./images/tutorials/pathfinder.png"})])}]]),ae={class:"d-flex flex-row"},te={class:"main-title"},se=r({__name:"suggested-articles",setup(e){const a=o([]),r=J();c((()=>{h()}));const h=async()=>{const e=await U();e&&e.length>0&&(e.forEach((e=>{if("string"==typeof e.apps)return e.apps=JSON.parse(e.apps),e})),a.value=e)};u((()=>r.currentLocale),h);return(e,r)=>{const o=S;return t(),p(A,{class:"suggested-articles mb-8"},{default:m((()=>[s("div",ae,[s("div",te,i(e.$t("Tutorial.PopularTitle")),1),s("a",{style:{display:"inline-flex","align-items":"center",gap:"4px","font-size":"1rem","font-weight":"normal"},href:"#",onClick:r[0]||(r[0]=v((e=>{L.push({name:O.TutorialTextList})}),["prevent"]))},[n(i(e.$t("UniversalApps.MoreApps"))+" ",1),l(T,{size:"18",color:"#3C3535",icon:"mdi-chevron-right-circle",class:"ml-1"})])]),l(o,{"list-data":d(a)},null,8,["list-data"])])),_:1})}}}),le={class:"tab-bar main-home-app-title"},ie={key:0,class:"main-home-app-list",style:{flex:"1"}},ne={key:0,class:"app-cats"},re=["onClick"],oe={class:"indicator"},ce={class:"app-items pl-1 pr-5 pt-0",style:{overflow:"auto",height:"auto"}},ue=r({__name:"home-apps",setup(e){const n=o("1"),r=J(),u=o(0),v=o(null),j=F();c((async()=>{await j.getAllCats(),j.allCatsData&&j.allCatsData.length>0&&(v.value=j.allCatsData[0])}));const C=e=>E.getLocaleName(e,r.currentLocale),T=h((()=>{const e=JSON.parse(JSON.stringify(j.allCatsData)).splice(0,5);return e.push({name_en:"All",name_zh:"全部",alias:"all"}),e}));return(e,r)=>{const o=B,c=q;return t(),a(g,null,[s("div",le,i(e.$t("MainHome.AppsTitle")),1),"1"===d(n)?(t(),a("div",ie,[d(j).allCatsData&&d(j).allCatsData.length>0?(t(),a(g,{key:0},[d(j).searchInProgress?f("",!0):(t(),a("div",ne,[(t(!0),a(g,null,_(d(T),((e,i)=>{return t(),a("div",{key:i,class:y(["nav-item",(n=i,u.value===n?"active":"")]),onClick:a=>((e,a)=>{a.id?(u.value=e,v.value=a):L.push({name:O.UniversalAppHome})})(i,e)},[l(D,{text:C(e),location:"left"},{activator:m((({props:a})=>[l($,x({width:"57",height:"60","max-width":"57","max-height":"60",draggable:"false",ref_for:!0},a,{src:`./images/app-cats/${e.alias}.png`}),null,16,["src"])])),_:2},1032,["text"]),l(w,{name:"fade"},{default:m((()=>[k(s("div",oe,null,512),[[b,d(u)===i]])])),_:2},1024)],10,re);var n})),128))])),s("div",ce,[d(v)?(t(),p(o,{key:0,"is-app-list-homepage":!0,"app-list-style":"home-simple","items-limit-for-home":30,catetory:d(v)},null,8,["catetory"])):f("",!0)])],64)):(t(),a(g,{key:1},[d(j).loadInProgress?(t(),p(A,{key:0,class:"my-8 mx-4",style:{width:"100%"}},{default:m((()=>[l(M,{color:"primary",height:"6",indeterminate:"",rounded:""})])),_:1})):f("",!0),d(j).loadInProgress?f("",!0):(t(),p(c,{key:1,"show-border":!1,style:{flex:"1"}}))],64))])):f("",!0)],64)}}}),pe=["onClick","onMouseenter"],me={style:{flex:"1",overflow:"hidden"}},ve={class:"image-wrapper"},de=e(r({__name:"multi-image-banner",setup(e){const r=o(0),d=o(null),x=o(0),T=h((()=>A.value.length)),A=o([]),M=J(),D=()=>{d.value&&(x.value=d.value.offsetWidth)};let P=null;c((()=>{D(),P=new ResizeObserver(D),d.value&&P.observe(d.value),S()})),j((()=>{P?.disconnect()}));const S=async()=>{A.value=await V()};u((()=>M.currentLocale),S);const F=()=>{},N=e=>{if(r.value===e){const e=200*(T.value-1);return{flex:`1 1 ${Math.max(x.value-e,200)}px`}}return{flex:"0 0 200px"}},R=e=>`background-color: ${e.logoBg}`,U=e=>{L.currentRoute.value.name!==O.AppDetail&&L.push({name:O.AppDetail,params:{id:e.appId}})};return(e,o)=>(t(),a("div",{ref_key:"containerRef",ref:d,class:"banner-container",onMouseleave:F,style:{height:"280px"}},[(t(!0),a(g,null,_(A.value,((o,c)=>(t(),a("div",{key:c,onClick:v((e=>U(o)),["prevent"]),class:y(["banner-item",{active:r.value===c}]),onMouseenter:e=>(e=>{e>=0&&e<T.value&&(r.value=e)})(c),style:C(N(c))},[s("div",{class:"d-flex flex-row app-info",style:C(`background: ${o.titleStyleCode}; align-items:center`)},[r.value===c?(t(),p($,{key:0,src:o.logo,class:"app-logo",style:C(R(o)),transition:"false",width:"68",height:"68","max-width":"68","max-height":"68"},null,8,["src","style"])):f("",!0),r.value!==c?(t(),p($,{key:1,src:`./images/app/rank${c+1}.svg`,class:"rank-icon",transition:"false",width:"24",height:"32","max-width":"24","max-height":"32"},null,8,["src"])):f("",!0),s("div",me,[l(z,null,{default:m((()=>[n(i(o.title),1)])),_:2},1024),r.value===c?(t(),p(H,{key:0},{default:m((()=>[n(i(o.subtitle),1)])),_:2},1024)):f("",!0)]),l(w,{name:"fade"},{default:m((()=>[k(l(I,{color:"#FFF",class:"install-btn",onClick:e=>U(o)},{default:m((()=>[n(i(e.$t("MainHome.DetailsLabel")),1)])),_:2},1032,["onClick"]),[[b,r.value===c]])])),_:2},1024)],4),s("div",ve,[l($,{src:o.coverImageUrl,"lazy-src":o.coverImageUrl,"max-height":"280",height:"280",cover:"",transition:"false",class:"banner-image"},null,8,["src","lazy-src"])])],46,pe)))),128))],544))}}),[["__scopeId","data-v-9c56e311"]]),he={class:"main-home-bottom-content mt-8 ga-8"},ge={class:"left-side"},fe={class:"right-side"},_e=r({__name:"MainHome",setup(e){const i=o(600),n=o(null);let r=null;const u=()=>{if(n.value){let e;e=n.value.scrollHeight>600?n.value.scrollHeight+80:600;const a=e-(e-128)%96;i.value=a}};c((async()=>{n.value&&(u(),r=new ResizeObserver(N((()=>{u()}),200)),r.observe(n.value)),p()})),j((()=>{r&&n.value&&(r.unobserve(n.value),r=null)}));const p=async()=>{try{const e=window?.location?.href;console.log("currentPage",e);const a=await R.getAppInfo();setTimeout((()=>{let e="-";a&&(e=a.version),fetch(`https://seemts.com/update/check.json?v=${e}`).then((e=>e.json())).then((e=>console.log("ok:",e))).catch((e=>console.error("fail:",e)))}),300)}catch(e){console.error("check err",e)}};return(e,r)=>{const o=K,c=ue,u=se,p=ee;return t(),a(g,null,[l(o,{"main-title":e.$t("MainHome.MainTitle")},null,8,["main-title"]),l(P,{class:"main-home-content mt-0 pt-0 px-8 pb-8"},{default:m((()=>[l(de),s("div",he,[s("div",ge,[s("div",{style:C({height:`${d(i)}px`}),class:"inner-border"},[l(c)],4)]),s("div",fe,[s("div",{ref_key:"realContent",ref:n},[l(u),l(p)],512)])])])),_:1})],64)}}});export{_e as default};
