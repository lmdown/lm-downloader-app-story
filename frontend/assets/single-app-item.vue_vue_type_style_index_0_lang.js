import{e as a,c as t,a1 as s,_ as e,W as o,Z as p,a4 as i,a0 as n,u as l,$ as c,j as r,Q as d,a3 as m}from"./vue.js";import{a as u}from"./app-info.js";import{c as f,a as h}from"./lmd-system.js";import{L as v,r as D,A as b}from"./index.js";import{A as y}from"./AppRunningUtil.js";import{F as g,b as w}from"./vuetify.js";const _=["Chatbox AI","Ollama","Silly Tavern","F5-TTS","KoboldCpp","LM Studio","ComfyUI"];class j{static getLocaleDesc(a){return v.localeIsEn()?a.desc_en:a.desc_zh}static checkIsDownloadable(a){return _.includes(a.name)}}const k={style:{width:"40px",height:"40px",display:"block"}},A={class:"app-title-container"},C={class:"app-title"},L={key:0,class:"app-short-desc"},x=a({__name:"single-app-item",props:{appData:{}},setup(a){const v=a,_=t((()=>j.getLocaleDesc(v.appData))),x=t((()=>j.checkIsDownloadable(v.appData))),I=async()=>{const{refLinks:a,url:t}=v.appData;let s;if(v.appData.alias)return void U();if(a){s=JSON.parse(a)[0].homepage}else t&&(s=t);const e=await f();await h()?S(s):e?O(s):T(s)},U=async()=>{const a=(await u(v.appData.alias)).id;D.push({name:b.AppDetail,params:{id:a}})},O=a=>{const t=Object.assign({},v.appData);t.url=a,y.openUniversalAppWebview(t)},S=a=>{const t=Object.assign({},v.appData);t.url=a,y.openUAppLiteWindow(t)},T=a=>{const t=document.createElement("a");t.href=a,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return(a,t)=>(e(),s("div",{class:"app-item",onClick:o(I,["prevent"])},[l(x)?(e(),p(w,{key:0,class:"downloadable-icon",width:"36",height:"36",src:"./images/icons/downloadable.png"},{default:c((()=>[r(g,{activator:"parent",location:"top",transition:"false"},{default:c((()=>[d(m(a.$t("UniversalApps.Downloadable")),1)])),_:1})])),_:1})):i("",!0),n("div",k,[r(w,{width:"40",height:"40",src:a.appData.icon},null,8,["src"])]),n("div",A,[n("div",C,[d(m(a.appData.name)+" ",1),r(g,{"open-delay":"1000",activator:"parent",location:"top",transition:"false"},{default:c((()=>[d(m(a.appData.name),1)])),_:1})]),l(_)?(e(),s("div",L,[d(m(l(_))+" ",1),r(g,{"open-delay":"700",activator:"parent",location:"bottom",transition:"false"},{default:c((()=>[d(m(l(_)),1)])),_:1})])):i("",!0)])]))}});export{x as _};
