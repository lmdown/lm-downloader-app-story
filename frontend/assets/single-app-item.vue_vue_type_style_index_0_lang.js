import{e as a,c as t,a6 as s,a3 as e,U as o,a2 as p,a8 as i,a5 as n,u as l,a4 as c,j as r,Q as d,V as m}from"./vue.js";import{a as u}from"./app-info.js";import{c as f,a as h}from"./lmd-system.js";import{L as v,r as b,A as D}from"./index.js";import{A as g}from"./AppRunningUtil.js";import{d as w,b as y}from"./vuetify.js";const _=["Chatbox AI","Ollama","Silly Tavern","F5-TTS","KoboldCpp","LM Studio","ComfyUI"];class j{static getLocaleDesc(a){return v.localeIsEn()?a.desc_en:a.desc_zh}static checkIsDownloadable(a){return _.includes(a.name)}}const k={style:{width:"40px",height:"40px",display:"block"}},A={class:"app-title-container"},U={class:"app-title"},C={key:0,class:"app-short-desc"},L=a({__name:"single-app-item",props:{appData:{}},setup(a){const v=a,_=t((()=>j.getLocaleDesc(v.appData))),L=t((()=>j.checkIsDownloadable(v.appData))),S=async()=>{const{refLinks:a,url:t}=v.appData;let s;if(v.appData.alias)return void x();if(a){s=JSON.parse(a)[0].homepage}else t&&(s=t);const e=await f(),o=await h();console.log("isSupportWebview",e),console.log("isSupportUAppWin",e),o?O(s):e?I(s):W(s)},x=async()=>{const a=(await u(v.appData.alias)).id;b.push({name:D.AppDetail,params:{id:a}})},I=a=>{const t=Object.assign({},v.appData);t.url=a,g.openUniversalAppWebview(t)},O=a=>{const t=Object.assign({},v.appData);t.url=a,g.openUAppLiteWindow(t)},W=a=>{const t=document.createElement("a");t.href=a,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return(a,t)=>(e(),s("div",{class:"app-item",onClick:o(S,["prevent"])},[l(L)?(e(),p(y,{key:0,class:"downloadable-icon",width:"36",height:"36",src:"./images/icons/downloadable.png"},{default:c((()=>[r(w,{activator:"parent",location:"top",transition:"false"},{default:c((()=>[d(m(a.$t("UniversalApps.Downloadable")),1)])),_:1})])),_:1})):i("",!0),n("div",k,[r(y,{width:"40",height:"40",src:a.appData.icon},null,8,["src"])]),n("div",A,[n("div",U,[d(m(a.appData.name)+" ",1),r(w,{"open-delay":"1000",activator:"parent",location:"top",transition:"false"},{default:c((()=>[d(m(a.appData.name),1)])),_:1})]),l(_)?(e(),s("div",C,[d(m(l(_))+" ",1),r(w,{"open-delay":"700",activator:"parent",location:"bottom",transition:"false"},{default:c((()=>[d(m(l(_)),1)])),_:1})])):i("",!0)])]))}});export{L as _};
