import{k as a,d as s,r as t,N as e,O as l,l as n,n as o,b as p,w as i,j as c,B as r,F as d,o as u,m as f,Q as _,a as m,t as y,y as x,f as g,g as w,z as v,V as h,G as b,c as j,s as k}from"./index-D8LzgPVj.js";import{_ as z}from"./app-list.vue_vue_type_style_index_0_lang-DC0NN57w.js";import{_ as A}from"./top-right-controls.vue_vue_type_style_index_0_lang-jDZPeNMU.js";import"./IPCChannelName-ChmutG-C.js";const C={style:{"font-size":"20px"}},I=["innerHTML"],$=s({__name:"StoryPostDetail",setup(s){const $=t({}),B=t([]),L=e(),M=l();n((async()=>{const s=L.params.id,t=await(async s=>(await a.get(`/app-store/app-story/${s}`)).data)(s);$.value=t;const e=$.value.relatedAppIds;if(e){const s=await(async s=>(await a.get(`/app-store/ai-app-info/?ids=${s}`)).data.data)(e);B.value=s}}));const P=()=>{M.go(-1)};return(a,s)=>(u(),o(d,null,[p(c,{elevation:"0",class:"window-drag pt-4"},{prepend:i((()=>[p(f,{class:"window-no-drag",onClick:P,variant:"plain"},{default:i((()=>[p(_,{class:"lmd-back-icon mr-3",style:{"font-size":"1.4rem"},size:"36",icon:"mdi-chevron-left",color:"#FB6C00"}),m("span",C,y(a.$t("LMAppDetail.goBack")),1)])),_:1})])),append:i((()=>[p(A)])),_:1}),p(r,{style:{"max-width":"none"},class:"mx-8 mt-4"},{default:i((()=>[p(x,{class:"story-post-content flex-column align-content-center"},{default:i((()=>[p(g,{class:"text-center pt-8 pb-6 px-8",width:"100%",style:{flex:"1","font-weight":"bold"}},{default:i((()=>[w(y(v($).title),1)])),_:1}),p(h,{src:v($).coverImageUrl,width:"80%",class:"mx-auto","aspect-ratio":"16/9",cover:""},null,8,["src"]),p(b,{class:"px-8 py-8"},{default:i((()=>[m("div",{innerHTML:v($).content},null,8,I)])),_:1})])),_:1}),v($).relatedAppIds?(u(),j(x,{key:0,class:"flex-column"},{default:i((()=>[p(g,{class:"text-left py-6 px-0",width:"100%",style:{flex:"1","font-weight":"bold"}},{default:i((()=>[w(y(a.$t("StoryPost.RelatedApps")),1)])),_:1}),p(z,{apps:v(B)},null,8,["apps"]),s[0]||(s[0]=m("div",{height:"12px",class:"mb-7"},null,-1))])),_:1})):k("",!0)])),_:1})],64))}});export{$ as default};
