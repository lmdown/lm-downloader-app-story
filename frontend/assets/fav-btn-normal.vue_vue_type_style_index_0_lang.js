import{c as a,e,T as t}from"./index.js";import{q as s,b as l,H as i}from"./vuetify.js";import{f as r,b as n,L as o,e as c,a6 as m,a8 as v,a3 as y,u as d,a5 as g,k as u,l as h,O as f,a4 as p}from"./vue.js";class b{static LOCAL_APP=10;static ONLINE_APP=11;static TUT_TEXT=20;static TUT_VIDEO=21}const k=a(),T={key:0,class:"fav-btn-normal",style:{height:"24px",width:"68px"}},w={class:"btn-label"},x={key:1,class:"fav-btn-large"},I={class:"btn-label",style:{"margin-left":"8px"}},_=r({__name:"fav-btn-normal",props:{resType:{},resId:{},btnStyle:{}},emits:["addFav","removeFav"],setup(a,{emit:r}){const b=a,_=n(null),O=n(!1),R=r;o((()=>{C()}));const C=async()=>{O.value=!0;try{_.value=await(async(a,t)=>{if(k.getToken())return(await e.get(`/api/fav/res/${t}/type/${a}`)).data;return null})(b.resType,b.resId)}catch(a){console.error(a)}finally{O.value=!1}},L=async()=>{O.value=!0,console.log("favToggle",_.value);try{_.value&&_.value.resId?(console.log("removeFav"),await(async(a,t)=>{const s={resType:a,resId:t};return console.log("favData:",s),(await e.delete(`/api/fav/res/${t}/type/${a}`)).data})(b.resType,b.resId),console.log("emit removeFav "),R("removeFav")):(console.log("addFav"),await(async(a,t)=>{const s={resType:a,resId:t};return console.log("favData:",s),(await e.post("/api/fav",s)).data})(b.resType,b.resId))}catch(a){console.error(a)}finally{O.value=!1}C()},P=c((()=>_.value?.resId===b.resId));return(a,e)=>a.btnStyle?"large"===a.btnStyle?(p(),m("div",x,[d(O)?(p(),y(i,{key:1,size:"20",color:d(t).PRIMARY_COLOR,indeterminate:""},null,8,["color"])):(p(),y(s,{key:0,size:"large",variant:"text",class:"action-btn",onClick:L},{default:g((()=>[u(l,{src:d(P)?"./images/my-ai/star1-fill.svg":"./images/my-ai/star1-outline.svg",width:"20",height:"20","max-width":"20","max-height":"20"},null,8,["src"]),h("span",I,f(d(P)?a.$t("Tutorial.Unstar"):a.$t("Tutorial.Star")),1)])),_:1}))])):"rounded"===a.btnStyle?(p(),m("div",{key:2,class:"fav-btn-rounded",onClick:L},[d(O)?(p(),y(i,{key:1,size:"20",color:d(t).PRIMARY_COLOR,indeterminate:""},null,8,["color"])):(p(),y(l,{key:0,width:"20",height:"20","max-width":"20","max-height":"20",src:d(P)?"./images/my-ai/star1-fill.svg":"./images/my-ai/star1-outline.svg"},null,8,["src"]))])):"noborder"===a.btnStyle?(p(),m("div",{key:3,class:"fav-btn-noborder",onClick:L},[d(O)?(p(),y(i,{key:1,size:"32",color:d(t).PRIMARY_COLOR,indeterminate:""},null,8,["color"])):(p(),y(l,{key:0,width:"32",height:"32","max-width":"32","max-height":"32",src:d(P)?"./images/my-ai/star1-fill.svg":"./images/my-ai/star1-outline.svg"},null,8,["src"]))])):v("",!0):(p(),m("div",T,[d(O)?(p(),y(i,{key:1,size:"16",color:d(t).PRIMARY_COLOR,indeterminate:""},null,8,["color"])):(p(),y(s,{key:0,variant:"text",density:"compact",class:"action-btn",onClick:L},{default:g((()=>[u(l,{src:d(P)?"./images/my-ai/star1-fill.svg":"./images/my-ai/star1-outline.svg",width:"16",height:"16","max-width":"16","max-height":"16"},null,8,["src"]),h("span",w,f(a.$t("Tutorial.Star")),1)])),_:1}))]))}});export{b as F,_};
