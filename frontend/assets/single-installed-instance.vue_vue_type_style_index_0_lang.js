import{e,b as a,Z as t,a4 as n,_ as s,a7 as r,u as o,$ as i,a1 as l,a0 as p,k as c,Q as d,a3 as m,F as u,m as f,W as v}from"./vue.js";import{b as h,c as y,I as g,L as D,r as A,A as I,o as x}from"./index.js";import{g as N}from"./xterm.js";import{r as w,a as R}from"./dayjs.js";import{A as C}from"./install-instance.js";import{n as U,B as _,b,C as M,H as k,D as W,F as L}from"./vuetify.js";class P{static openAppRunningWindow(e,a){let t=h.AppRunning.replace(":id",e);t=y(t,{script:a});let n=!1;a===C.INSTALL&&(n=!0),console.log("openAppRunningWindow",e,a,n),window.ipcRenderer?.invoke(g.OPEN_RUNNING_WINDOW,e,t,n)}static openUniversalAppWebview(e){let a=h.UniversalAppRunning.replace(":name",encodeURIComponent(e.name));e.url&&(a=a.replace(":url",encodeURIComponent(e.url))),e.icon&&(a=a.replace(":icon",encodeURIComponent(e.icon))),window.ipcRenderer?.invoke(g.OPEN_RUNNING_WINDOW,e.name,a)}static openUAppLiteWindow(e){let a=h.UniversalAppTitle.replace(":name",encodeURIComponent(e.name));e.url&&(a=a.replace(":url",encodeURIComponent(e.url))),e.icon&&(a=a.replace(":icon",encodeURIComponent(e.icon))),window.ipcRenderer?.invoke(g.OPEN_UAPP_RUNNING_WINDOW,e.name,a,e)}}const T=N(w());R();var S,V={exports:{}};const $=N(S?V.exports:(S=1,V.exports=function(e,a,t){e=e||{};var n=a.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(e,a,t,s){return n.fromToBase(e,a,t,s)}t.en.relativeTime=s,n.fromToBase=function(a,n,r,o,i){for(var l,p,c,d=r.$locale().relativeTime||s,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=m.length,f=0;f<u;f+=1){var v=m[f];v.d&&(l=o?t(a).diff(r,v.d,!0):r.diff(a,v.d,!0));var h=(e.rounding||Math.round)(Math.abs(l));if(c=l>0,h<=v.r||!v.r){h<=1&&f>0&&(v=m[f-1]);var y=d[v.l];i&&(h=i(""+h)),p="string"==typeof y?y.replace("%d",h):y(h,n,v.l,c);break}}if(n)return p;var g=c?d.future:d.past;return"function"==typeof g?g(p):g.replace("%s",p)},n.to=function(e,a){return r(e,a,this,!0)},n.from=function(e,a){return r(e,a,this)};var o=function(e){return e.$u?t.utc():t()};n.toNow=function(e){return this.to(o(this),e)},n.fromNow=function(e){return this.from(o(this),e)}}));T.extend($);class j{static getLocaleStr(){return{en:"en-US",zhHans:"zh-CN"}[D.getCurrentLocale()]||"en-US"}static format(e){if(void 0===e)return"";let a;return a="string"==typeof e?new Date(e):e,D.localeIsEn()?T.locale("en"):T.locale("zh-cn"),T(a).fromNow()}}const B={style:{flex:"1",overflow:"hidden"}},O={class:"small-title-for-version"},z={class:"app-info-item align-center"},E={class:"mx-1"},G={style:{flex:"1"},class:"text-left mx-1"},F={class:"app-info-item align-center"},H={class:"mx-1"},Q=e({__name:"single-installed-instance",props:{appNameVisible:{type:Boolean},iconVisible:{type:Boolean},appVersionVisible:{type:Boolean},appIconUrl:{},cardColorStyleClass:{},instanceData:{}},setup(e){const h=e,y=a(""),g=()=>{"instance-card-gray"===h.cardColorStyleClass&&(y.value="instance-card-gray-hover")},D=()=>{y.value=""},N=()=>{console.log("gotoDetailPage",h.instanceData.appId);A.currentRoute.value.name!==I.AppDetail&&A.push({name:I.AppDetail,params:{id:h.instanceData.appId}})},w=()=>{h.instanceData.appInstallPath&&x(h.instanceData.appInstallPath)};return(e,a)=>e.instanceData?(s(),t(U,{key:0,class:r(["single-instance-card","rounded-lg",e.cardColorStyleClass||"instance-card-default",o(y)])},{default:i((()=>[e.iconVisible&&e.appIconUrl?(s(),t(_,{key:0,style:{display:"flex"}},{default:i((()=>[p("div",null,[c(b,{width:"68",height:"68",cover:"",style:{"border-radius":"8px",cursor:"pointer"},onClick:N,alt:e.instanceData.name,src:e.appIconUrl},null,8,["alt","src"])]),p("div",B,[e.appNameVisible?(s(),t(M,{key:0,onClick:N,style:{"font-size":"1.125rem","font-weight":"bold",color:"rgba(0,0,0,0.75)","padding-right":"0px"}},{default:i((()=>[d(m(e.instanceData.name)+" ",1),c(k,{"open-delay":"900",activator:"parent",location:"bottom",transition:"false"},{default:i((()=>[d(m(e.instanceData.name),1)])),_:1})])),_:1})):n("",!0),c(W,null,{default:i((()=>[d(m(e.$t("LMAppDetail.version"))+" "+m(e.instanceData.version),1)])),_:1})])])),_:1})):n("",!0),e.appVersionVisible?(s(),l(u,{key:1},[a[1]||(a[1]=p("div",{style:{height:"8px"},class:"mt-1"},null,-1)),p("div",O,m(e.$t("LMAppDetail.version"))+" "+m(e.instanceData.version),1)],64)):n("",!0),p("div",z,[c(k,{text:e.$t("LMAppDetail.installedAt"),location:"top"},{activator:i((({props:e})=>[p("div",E,[c(b,f({width:"1.8rem",height:"1.8rem"},e,{src:"./images/app/install-time-gray.svg"}),null,16)])])),_:1},8,["text"]),p("div",G,m(o(j).format(e.instanceData.createTime)),1)]),p("div",F,[p("div",H,[c(b,{width:"1.8rem",height:"1.8rem",src:"./images/app/model-dir-gray.svg"})]),p("a",{href:"#",style:{flex:"1"},class:"text-left mx-1",onClick:v(w,["prevent"])},[d(m(e.$t("LMAppDetail.appDirectory"))+" > ",1),c(k,{activator:"parent",location:"top"},{default:i((()=>[d(m(e.instanceData.appInstallPath),1)])),_:1})])]),c(L,{class:"mt-6"}),p("a",{href:"#",variant:"flat",class:"control-btn",onClick:a[0]||(a[0]=v((a=>{return t=e.instanceData.id,void P.openAppRunningWindow(t,C.START);var t}),["prevent"])),onMouseenter:g,onMouseleave:D},m(e.$t("LMAppDetail.RunApp")),33)])),_:1},8,["class"])):n("",!0)}});export{P as A,Q as _};
