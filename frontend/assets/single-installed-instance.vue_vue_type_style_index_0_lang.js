import{e as a,b as e,a2 as t,a8 as s,a3 as n,ac as r,u as i,a4 as o,a6 as l,a5 as p,j as c,Q as d,V as u,m,U as f}from"./vue.js";import{b as h,c as v,I as y,L as g,r as D,A as x,o as b}from"./index.js";import{g as A}from"./xterm.js";import{r as M,a as w}from"./dayjs.js";import{D as C,z as I,b as N,A as _,B as k,d as V,E as L}from"./vuetify.js";class j{static openAppRunningWindow(a,e){let t=h.AppRunning.replace(":id",a);t=v(t,{script:e}),window.ipcRenderer?.invoke(y.OPEN_RUNNING_WINDOW,a,t)}}const R=A(M());w();var U,$={exports:{}};const B=A(U?$.exports:(U=1,$.exports=function(a,e,t){a=a||{};var s=e.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(a,e,t,n){return s.fromToBase(a,e,t,n)}t.en.relativeTime=n,s.fromToBase=function(e,s,r,i,o){for(var l,p,c,d=r.$locale().relativeTime||n,u=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=u.length,f=0;f<m;f+=1){var h=u[f];h.d&&(l=i?t(e).diff(r,h.d,!0):r.diff(e,h.d,!0));var v=(a.rounding||Math.round)(Math.abs(l));if(c=l>0,v<=h.r||!h.r){v<=1&&f>0&&(h=u[f-1]);var y=d[h.l];o&&(v=o(""+v)),p="string"==typeof y?y.replace("%d",v):y(v,s,h.l,c);break}}if(s)return p;var g=c?d.future:d.past;return"function"==typeof g?g(p):g.replace("%s",p)},s.to=function(a,e){return r(a,e,this,!0)},s.from=function(a,e){return r(a,e,this)};var i=function(a){return a.$u?t.utc():t()};s.toNow=function(a){return this.to(i(this),a)},s.fromNow=function(a){return this.from(i(this),a)}}));R.extend(B);class S{static getLocaleStr(){return{en:"en-US",zhHans:"zh-CN"}[g.getCurrentLocale()]||"en-US"}static format(a){if(void 0===a)return"";let e;return e="string"==typeof a?new Date(a):a,g.localeIsEn()?R.locale("en"):R.locale("zh-cn"),R(e).fromNow()}}const z={style:{flex:"1"}},P={key:1,class:"small-title-for-version"},T={class:"app-info-item align-center"},W={class:"mx-1"},E={style:{flex:"1"},class:"text-left mx-1"},O={class:"app-info-item align-center"},G={class:"mx-1"},H=a({__name:"single-installed-instance",props:{appNameVisible:{type:Boolean},iconVisible:{type:Boolean},appVersionVisible:{type:Boolean},appIconUrl:{},cardColorStyleClass:{},instanceData:{}},setup(a){const h=a,v=e(""),y=()=>{"instance-card-gray"===h.cardColorStyleClass&&(v.value="instance-card-gray-hover")},g=()=>{v.value=""},A=()=>{console.log("gotoDetailPage",h.instanceData.appId);D.currentRoute.value.name!==x.AppDetail&&D.push({name:x.AppDetail,params:{id:h.instanceData.appId}})},M=()=>{h.instanceData.appInstallPath&&b(h.instanceData.appInstallPath)};return(a,e)=>a.instanceData?(n(),t(C,{key:0,class:r(["single-instance-card","rounded-lg",a.cardColorStyleClass||"instance-card-default",i(v)])},{default:o((()=>[a.iconVisible&&a.appIconUrl?(n(),t(I,{key:0,style:{display:"flex"}},{default:o((()=>[p("div",null,[c(N,{width:"68",height:"68",cover:"",style:{"border-radius":"8px",cursor:"pointer"},onClick:A,alt:a.instanceData.name,src:a.appIconUrl},null,8,["alt","src"])]),p("div",z,[a.appNameVisible?(n(),t(_,{key:0,onClick:A,style:{"font-size":"1.125rem","font-weight":"bold",color:"rgba(0,0,0,0.75)"}},{default:o((()=>[d(u(a.instanceData.name),1)])),_:1})):s("",!0),c(k,null,{default:o((()=>[d(u(a.$t("LMAppDetail.version"))+" "+u(a.instanceData.version),1)])),_:1})])])),_:1})):s("",!0),a.appVersionVisible?(n(),l("div",P,u(a.$t("LMAppDetail.version"))+" "+u(a.instanceData.version),1)):s("",!0),p("div",T,[c(V,{text:a.$t("LMAppDetail.installedAt"),location:"top"},{activator:o((({props:a})=>[p("div",W,[c(N,m({width:"1.8rem",height:"1.8rem"},a,{src:"./images/app/install-time-gray.png"}),null,16)])])),_:1},8,["text"]),p("div",E,u(i(S).format(a.instanceData.createTime)),1)]),p("div",O,[p("div",G,[c(N,{width:"1.8rem",height:"1.8rem",src:"./images/app/model-dir-gray.png"})]),p("a",{href:"#",style:{flex:"1"},class:"text-left mx-1",onClick:f(M,["prevent"])},[d(u(a.$t("LMAppDetail.appDirectory"))+" > ",1),c(V,{activator:"parent",location:"top"},{default:o((()=>[d(u(a.instanceData.appInstallPath),1)])),_:1})])]),c(L,{class:"mt-6"}),p("a",{href:"#",variant:"flat",class:"control-btn",onClick:e[0]||(e[0]=f((e=>{return t=a.instanceData.id,void j.openAppRunningWindow(t,"start");var t}),["prevent"])),onMouseenter:y,onMouseleave:g},u(a.$t("LMAppDetail.RunApp")),33)])),_:1},8,["class"])):s("",!0)}});export{j as A,H as _};
